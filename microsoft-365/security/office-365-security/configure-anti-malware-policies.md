---
title: 맬웨어 방지 정책 구성
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: how-to
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: b0cfc21f-e3c6-41b6-8670-feb2b2e252e5
ms.collection:
- M365-security-compliance
- m365initiative-defender-office365
description: 관리자는 EOP(맬웨어 방지 정책)에서 맬웨어 방지 정책을 보고, 만들고, 수정하고, 제거하는 Exchange Online Protection 있습니다.
ms.custom: seo-marvel-apr2020
ms.technology: mdo
ms.prod: m365-security
ms.openlocfilehash: 2a96ff5d05018285652ee455a3f6f477e4cdaab9
ms.sourcegitcommit: 50908a93554290ff1157b58d0a868a33e012513c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/08/2021
ms.locfileid: "52822265"
---
# <a name="configure-anti-malware-policies-in-eop"></a>EOP에서 맬웨어 방지 정책 구성

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender-for-office.md)]

**적용 대상**
- [Exchange Online Protection](exchange-online-protection-overview.md)
- [Office 365용 Microsoft Defender 플랜 1 및 플랜 2](defender-for-office-365.md)
- [Microsoft 365 Defender](../defender/microsoft-365-defender.md)

Microsoft 365 사서함이 없는 Exchange Online 또는 EOP(독립 실행형 Exchange Online Protection) 조직에서 전자 메일 Exchange Online EOP를 통해 전자 메일 메시지가 자동으로 맬웨어로부터 보호됩니다. EOP는 맬웨어 보호 설정에 대해 맬웨어 방지 정책을 사용합니다. 자세한 내용은 맬웨어 방지 [보호를 참조하세요.](anti-malware-protection.md)

관리자는 조직의 요구에 맞게 기본 맬웨어 방지 정책을 보고, 편집하고, 구성할 수 있지만 삭제할 수 없습니다. 세분성을 강화하기 위해 조직의 특정 사용자, 그룹 또는 도메인에 적용되는 사용자 지정 맬웨어 방지 정책을 만들 수도 있습니다. 사용자 지정 정책은 항상 기본 정책보다 우선하지만, 사용자 지정 정책의 우선순위(실행 순서)를 변경할 수 있습니다.

Microsoft 365 보안 센터 또는 PowerShell(Exchange Online 사서함이 있는 Microsoft 365 조직의 경우 Exchange Online, 사서함이 없는 조직의 독립 실행형 EOP PowerShell용 Exchange Online PowerShell)에서 맬웨어 방지 정책을 구성할 수 있습니다.

## <a name="what-do-you-need-to-know-before-you-begin"></a>시작하기 전에 알아야 할 내용은 무엇인가요?

- <https://security.microsoft.com>에서 보안 센터를 엽니다. 맬웨어 방지 **페이지로** 직접 이동하기 위해 를 <https://security.microsoft.com/antimalwarev2> 사용하세요.

- Exchange Online PowerShell에 연결하려면 [Exchange Online PowerShell에 연결](/powershell/exchange/connect-to-exchange-online-powershell)을 참조하세요. 독립 실행형 EOP PowerShell에 연결하려면 [Exchange Online Protection PowerShell에 연결](/powershell/exchange/connect-to-exchange-online-protection-powershell)을 참조하세요.

- 이 게시물의 절차를 수행하려면 먼저 **Exchange Online** 에서 사용 권한을 할당받아야 합니다.
  - 맬웨어 방지 정책을 추가, 수정 및 삭제하려면 **조직** 관리 또는 보안 관리자 역할 그룹의 **구성원이면** 됩니다.
  - 맬웨어 방지 정책에 대한 읽기 전용 액세스의 경우  전역 읽기 프로그램 또는 보안 읽기 프로그램 역할 그룹의 **구성원이** 되거나 해야 합니다.

  자세한 내용은 [Exchange Online의 사용 권한](/exchange/permissions-exo/permissions-exo)을 참조하세요.

  **참고**:

  - Microsoft 365 관리 센터의 해당 Azure Active Directory 역할에 사용자를 추가하면 사용자에게 필요한 권한 _및_ Microsoft 365의 다른 기능에 대한 권한이 부여됩니다. 자세한 내용은 [관리자 역할 정보](../../admin/add-users/about-admin-roles.md)를 참조하세요.
  - [Exchange Online](/Exchange/permissions-exo/permissions-exo#role-groups)의 **보기 전용 조직 관리** 역할 그룹에도 기능에 대한 읽기 전용 권한을 부여합니다.

- 맬웨어 방지 정책에 대한 권장 설정은 EOP 맬웨어 방지 정책 [설정을 참조하세요.](recommended-settings-for-eop-and-office365.md#eop-anti-malware-policy-settings)

## <a name="use-the-security-center-to-create-anti-malware-policies"></a>보안 센터를 사용하여 맬웨어 방지 정책 만들기

보안 센터에서 사용자 지정 맬웨어 방지 정책을 만들면 맬웨어 필터 규칙과 연결된 맬웨어 필터 정책이 동시에 동일한 이름을 사용하여 생성됩니다.

1. 보안 센터에서 전자 메일 **&** 정책 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. **맬웨어 방지 페이지에서** 만들기 아이콘 ![ ](../../media/m365-cc-sc-create-icon.png) **만들기를 클릭합니다.**

3. 정책 마법사가 열립니다. 정책 **이름 지정 페이지에서** 다음 설정을 구성합니다.
   - **이름**: 정책을 설명하는 고유한 이름을 입력합니다.
   - **설명**: 정책에 대한 선택적 설명을 입력합니다.

   작업을 마친 후 **다음** 을 클릭합니다.

4. 나타나는 **사용자 및 도메인** 페이지에서 정책이 적용되는 내부 받는 사람을 식별합니다(받는 사람 조건).
   - **사용자**: 조직의 지정된 사서함, 메일 사용자 또는 메일 연락처입니다.
   - **그룹**: 조직에서 지정한 메일 그룹, 메일 사용이 가능한 보안 그룹 또는 Microsoft 365 그룹입니다.
   - **도메인**: 조직에서 지정한 [허용 도메인](/exchange/mail-flow-best-practices/manage-accepted-domains/manage-accepted-domains)의 모든 받는 사람입니다.

   적절한 상자를 클릭하고, 값 입력을 시작하고, 결과에서 원하는 값을 선택합니다. 이 프로세스를 필요한 만큼 반복합니다. 기존 값을 제거하려면 제거를 클릭합니다. ![아이콘 제거](../../media/m365-cc-sc-remove-selection-icon.png) 값 옆에 있습니다.

   사용자 또는 그룹의 경우 대부분의 식별자(이름, 표시 이름, 별칭, 전자 메일 주소, 계정 이름 등)를 사용할 수 있지만 해당 표시 이름은 결과에 표시됩니다. 사용자의 경우 별표(\*)만 입력하여 사용 가능한 모든 값을 확인합니다.

   동일한 조건의 여러 값은 OR 논리를 사용합니다(예: _\<recipient1\>_ 혹은 _\<recipient2\>_). 서로 다른 조건은 AND 논리를 사용합니다(예: _\<recipient1\>_ 및 _\<member of group 1\>_).

   - **다음 사용자, 그룹 및 도메인 제외**: 정책이 적용되는 내부 받는 사람에 대한 예외를 추가하려면(받는 사람 예외) 이 옵션을 선택하고 예외를 구성합니다. 설정 및 동작은 조건과 정확히 같습니다.

   작업을 마친 후 **다음** 을 클릭합니다.

5. 나타나는 **보호 설정** 페이지에서 다음 설정을 구성합니다.

   - **공통 첨부 파일 필터** 사용: 이 옵션을 선택하면 지정된 첨부 파일이 있는 메시지가 맬웨어로 처리되고 자동으로 검색됩니다. 파일 형식 사용자 지정 을 선택하여 기본 목록을 **수정할 수 있습니다.**

   - **맬웨어에 대해** 제로 아워 자동 제거 사용: 이 옵션을 선택하면 ZAP는 이미 배달된 맬웨어 메시지를 검역합니다. 자세한 내용은 에서 [제로 아워 ZAP(자동 제거)를 Exchange Online.](zero-hour-auto-purge.md) 다음 값 중 하나를 선택합니다.

   - **메시지가 맬웨어로 검색된 경우 받는 사람에게 알릴 수 있습니다.**
     - 이 옵션을 선택하면 메시지가 의도한 받는 사람에게 알림이 제공되지 않습니다.
     - 이 옵션을 선택하지 않은 경우 메시지가 대리됩니다. 메시지의 복사본은 받는 사람에게 배달되지만  검색된 첨부 파일만이 아니라 모든 첨부 파일은 맬웨어 경고 파일 이라는 단일 **텍스트 파일로 Text.txt.**

       대체 텍스트 파일의 기본 텍스트는 맬웨어 방지 정책 [에 설명되어 있습니다.](anti-malware-protection.md#anti-malware-policies) 사용자 지정 텍스트를 대신 사용 하 고 받는 사람에 대 한 사용자 지정 알림 텍스트 **상자에 텍스트를 입력** 합니다.

   - **보낸 사람 알림:** 다음 옵션 중 없음, 하나 또는 둘 다를 선택합니다.
       - **메시지가 맬웨어로** 검색된 경우 내부 보낸 사람에 알릴 수 있습니다. 내부 보낸 사람이 조직 내부에 있습니다.
       - **메시지가 맬웨어로** 차단된 경우 외부 보낸 사람에 알릴 수 있습니다. 외부 보낸 사람이 조직 외부에 있습니다.

   - **관리자 알림:** 다음 옵션 중 하나 또는 둘 다를 선택합니다.
       - **관리자에게** 내부 보낸 사람이 보낸 메시지에 대해 알릴 수 있습니다. 이 옵션을 선택하는  경우 관리자 전자 메일 주소 상자에 나타나는 알림 전자 메일 주소를 입력합니다.
       - **관리자에게** 외부 보낸 사람이 보낸 메시지에 대한 알림: 이 옵션을 선택하는 경우 관리자  전자 메일 주소 상자에 나타나는 알림 전자 메일 주소를 입력합니다.

   - **알림 사용자** 지정: 이러한 설정은 보낸 사람 또는 관리자에 사용되는 기본 알림 텍스트를 대체합니다. 기본값에 대한 자세한 내용은 맬웨어 방지 [정책 을 참조하세요.](anti-malware-protection.md#anti-malware-policies)
       - **사용자** 지정 알림 텍스트 사용: 이 옵션을 선택하는  경우  보낸 사람 이름 및 보낸 사람 주소 상자를 사용하여 사용자 지정된 알림 메시지에 사용되는 보낸 사람 이름과 전자 메일 주소를 지정해야 합니다.
       - 내부 **보낸** 사람이 보낸 메시지에 대한 알림 사용자 지정: 보낸 사람 또는 관리자에게 내부 보낸 사람이 보낸 메시지를  알릴  수 없는 경우 제목 및 메시지 상자를 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.
       - 외부 **보낸** 사람이 보낸 메시지에 대한 알림 사용자 지정: 외부 보낸 사람이 보낸 메시지를 보낸 메시지에 대해 보낸  사람  또는 관리자에게 알리도록 선택한 경우 제목 및 메시지 상자를 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.

   작업을 마친 후 **다음** 을 클릭합니다.

6. 표시되는 **검토** 페이지에서 설정을 검토합니다. 각 섹션에서 **편집** 선택하여 섹션 내의 설정을 수정할 수 있습니다. 또는 **뒤로** 를 클릭하거나 마법사에서 특정 페이지를 선택할 수 있습니다.

   완료되면 제출을 **클릭합니다.**

7. 표시되는 확인 페이지에서 **완료** 를 클릭합니다.

## <a name="use-the-security-center-to-view-anti-malware-policies"></a>보안 센터를 사용하여 맬웨어 방지 정책 보기

1. 보안 센터에서 전자 메일 **&** 정책 및 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. **맬웨어** 방지 페이지에는 맬웨어 방지 정책 목록에 다음 속성이 표시됩니다.

   - **이름**
   - **상태**
   - **우선 순위**

3. 이름을 클릭하여 정책을 선택하면 정책 설정이 플라이아웃에 표시됩니다.

## <a name="use-the-security-center-to-modify-anti-malware-policies"></a>보안 센터를 사용하여 맬웨어 방지 정책 수정

1. 보안 센터에서 전자 메일 **&** 정책 및 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. **맬웨어 방지 페이지에서** 이름을 클릭하여 목록에서 정책을 선택합니다.

3. 표시되는 정책 세부 정보 플라이아웃에서 각 섹션에서 **편집** 을 선택하여 섹션 내의 설정을 수정합니다. 설정에 대한 자세한 내용은 이 문서의 이전 보안 센터를 사용하여 맬웨어 방지 정책 [만들기](#use-the-security-center-to-create-anti-malware-policies) 섹션을 참조하세요.  

   기본 맬웨어 방지 정책의 경우 **사용자,** 그룹 및 도메인 섹션을 사용할 수 없습니다(정책은 모든 사용자에게 적용), 정책 이름을 변경할 수 없습니다.

정책을 사용하도록 설정하거나 사용하지 않도록 설정하거나 정책 우선 순위를 설정하려면 다음 섹션을 참조하세요.

### <a name="enable-or-disable-custom-anti-malware-policies"></a>사용자 지정 맬웨어 방지 정책 사용 또는 사용 안 하도록 설정

기본 맬웨어 방지 정책을 사용하지 않도록 설정할 수 없습니다.

1. 보안 센터에서 전자 메일 **&** 정책 및 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. **맬웨어 방지 페이지에서** 이름을 클릭하여 목록에서 사용자 지정 정책을 선택합니다.

3. 표시되는 정책 세부 정보 플라이아웃 맨 위에 다음 값 중 하나가 표시됩니다.
   - **정책 끄기**: 정책을 켜려면 ![켜기 아이콘](../../media/m365-cc-sc-turn-on-off-icon.png) **켜기** 를 클릭합니다.
   - **정책**: 정책을 끄려면 ![끄기 아이콘](../../media/m365-cc-sc-turn-on-off-icon.png) **끄기** 를 클릭합니다.

4. 표시되는 확인 대화 상자에서 **켜기** 또는 **끄기** 를 클릭합니다.

5. 정책 세부 정보 플라이아웃에서 **닫기** 를 클릭합니다.

기본 정책 페이지로 돌아가면 정책의 **상태** 값이 **켜짐** 또는 **꺼짐** 입니다.

### <a name="set-the-priority-of-custom-anti-malware-policies"></a>사용자 지정 맬웨어 방지 정책의 우선 순위 설정

기본적으로 맬웨어 방지 정책에는 만들어진 순서에 따라 우선 순위가 부여됩니다(새 정책은 이전 정책보다 우선 순위가 낮음). 낮은 우선순위 번호는 정책의 높은 우선순위(0이 가장 높음)를 나타내고 정책은 우선순위 순서에 따라 처리됩니다(높은 우선순위 정책은 낮은 우선순위 정책보다 먼저 처리됨). 두 정책의 우선순위는 동일 할 수 없으며, 첫 번째 정책이 적용된 후에는 정책 처리가 중지됩니다.

정책의 우선 순위를 변경하려면 정책 속성에서 **우선 순위를 높이** 거나 **우선 순위를 낮춥** 니다(보안 센터에서 **우선 순위** 번호를 직접 수정할 수 없습니다). 정책의 우선 순위를 변경하는 것은 여러 정책이 있는 경우에만 의미가 있습니다.

 **참고**:

- 보안 센터에서는 맬웨어 방지 정책을 만든 후에만 맬웨어 방지 정책의 우선 순위를 변경할 수 있습니다. PowerShell에서 기존 규칙의 우선 순위에 영향을 줄 수 있는 맬웨어 필터 규칙을 만들 때 기본 우선 순위를 다시 정할 수 있습니다.
- 맬웨어 방지 정책은 표시되는 순서대로 처리됩니다(첫 번째 정책의 **우선** 순위 값은 0). 기본 맬웨어 방지 정책의 우선 순위 값은 **가장** 낮습니다. 이 정책은 변경할 수 없습니다.

1. 보안 센터에서 전자 메일 **&** 정책 및 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. **맬웨어 방지 페이지에서** 이름을 클릭하여 목록에서 사용자 지정 정책을 선택합니다.

3. 표시되는 정책 세부 정보 플라이아웃 맨 위에 현재 우선 순위 값 및 사용자 지정 정책 수를 기준으로 **우선순위 증가** 또는 **우선순위 감소** 가 표시됩니다.
   - 우선 순위 값이 **0인 맬웨어** 방지 정책에는 우선 순위 감소 옵션만 사용할  **수** 있습니다.
   - 우선 순위 값이 가장  낮은 맬웨어 방지 정책(예: **3)에는** 우선 순위 늘리기 옵션만 사용할 **수** 있습니다.
   - 맬웨어 방지 정책이 세 개 이상 있는 경우 우선 순위가 가장 높은 값과 가장 낮은 값 사이의 정책에는 우선 순위 늘리기 및 우선 순위 감소 옵션을 모두 사용할 **수** 있습니다. 

   ![우선순위 아이콘](../../media/m365-cc-sc-increase-icon.png) **우선순위** 또는 ![우선순위 아이콘](../../media/m365-cc-sc-decrease-icon.png) **우선순위** 를 클릭하여 **우선순위** 값을 변경합니다.

4. 작업을 마쳤으면 정책 세부 정보 플라이아웃에서 **닫기** 를 클릭합니다.

## <a name="use-the-security-center-to-remove-custom-anti-malware-policies"></a>보안 센터를 사용하여 사용자 지정 맬웨어 방지 정책 제거

보안 센터를 사용하여 사용자 지정 맬웨어 방지 정책을 제거하면 맬웨어 필터 규칙과 해당 맬웨어 필터 정책이 모두 삭제됩니다. 기본 맬웨어 방지 정책은 제거할 수 없습니다.

1. 보안 센터에서 전자 메일 **&** 정책 및 규칙 위협 정책 & 맬웨어 방지 \>  \>  \>  \> **섹션으로 이동하세요.**

2. 정책 이름을 클릭하여 목록에서 사용자 지정 정책을 선택합니다. 표시되는 정책 세부 정보 플라이아웃의 맨 위에서 ![추가 작업 아이콘](../../media/m365-cc-sc-more-actions-icon.png)**추가 작업**\>![정책 삭제 아이콘](../../media/m365-cc-sc-delete-icon.png)**정책 삭제** 를 클릭합니다.

3. 확인 대화 상자가 나타나면 **예** 를 클릭합니다.

## <a name="use-exchange-online-powershell-or-standalone-eop-powershell-to-configure-anti-malware-policies"></a>PowerShell Exchange Online 독립 실행형 EOP PowerShell을 사용하여 맬웨어 방지 정책 구성

PowerShell의 스팸 방지 정책에 대한 자세한 내용은 Microsoft 365 보안 센터 [대 PowerShell의 맬웨어 방지 정책을 참조하세요.](anti-malware-protection.md#anti-malware-policies-in-the-microsoft-365-security-center-vs-powershell)

### <a name="use-powershell-to-create-anti-malware-policies"></a>PowerShell을 사용하여 맬웨어 방지 정책 만들기

PowerShell에서 맬웨어 방지 정책을 만드는 과정은 다음 두 단계로 진행됩니다.

1. 맬웨어 필터 정책을 만들 수 있습니다.
2. 규칙이 적용되는 맬웨어 필터 정책을 지정하는 맬웨어 필터 규칙을 생성합니다.

 **참고:**

- 새 맬웨어 필터 규칙을 만들고 기존의 통합되지 않은 맬웨어 필터 정책을 할당할 수 있습니다. 맬웨어 필터 규칙은 두 개 이상의 맬웨어 필터 정책과 연결될 수 없습니다.
- 정책을 만든 후에야 보안 센터에서 사용할 수 없는 PowerShell의 새로운 맬웨어 방지 정책에 대해 구성할 수 있는 두 가지 설정이 있습니다.
  - 새 정책을 사용하지 않도록 `$false` **설정(New-MalwareFilterRule** cmdlet에서 사용)으로 설정합니다.
  -  _\<Number\>_ **New-MalwareFilterRule** cmdlet에서 만들기 중에 정책의 우선 순위( 우선 순위)를 설정하십시오.
- PowerShell에서 만든 새 맬웨어 필터 정책은 맬웨어 필터 규칙에 정책을 할당할 때까지 보안 센터에 표시되지 않습니다.

#### <a name="step-1-use-powershell-to-create-a-malware-filter-policy"></a>1단계: PowerShell을 사용하여 맬웨어 필터 정책 만들기

**참고:** 클라우드 기반 서비스에서 _Action_ 매개 변수 값 `DeleteMessage` , 및 메시지를 `DeleteAttachmentAndUseDefaultAlert` `DeleteAttachmentAndUseCustomAlert` 삭제하지 않습니다. 대신 메시지는 quarantined입니다. 메시지 검색에 대한 자세한 내용은 EOP에서 관리자로 [quarantined messages and files as an admin를 참조하십시오.](manage-quarantined-messages-and-files.md)

맬웨어 필터 정책을 만들 경우 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterPolicy -Name "<PolicyName>" [-Action <DeleteMessage | DeleteAttachmentAndUseDefaultAlert | DeleteAttachmentAndUseCustomAlert>] [-AdminDisplayName "<OptionalComments>"] [-CustomNotifications <$true | $false>] [<Inbound notification options>] [<Outbound notification options>]
```

이 예에서는 다음 설정을 사용하여 Contoso Malware Filter Policy라는 새 맬웨어 필터 정책을 만듭니다.

- 받는 사람에게 알리지 않고 맬웨어가 포함된 메시지를 차단합니다(Action  매개 변수를 사용하지 않고 기본값은 `DeleteMessage` ).
- 메시지에서 맬웨어가 검색된 경우 메시지 보낸 사람에 알리지 _않습니다(EnableExternalSenderNotifications_ 또는 _EnableInternalSenderNotifications_ 매개 변수를 사용하지 않습니다. 두 매개 변수의 기본값은 모두 `$false` ).입니다.
- 내부 보낸 사람의 메시지에서 맬웨어가 탐지되는 경우 관리자인 admin@contoso.com에게 알립니다.

```PowerShell
New-MalwareFilterPolicy -Name "Contoso Malware Filter Policy" -EnableInternalSenderAdminNotifications $true -InternalSenderAdminAddress admin@contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/new-malwarefilterpolicy)

#### <a name="step-2-use-powershell-to-create-a-malware-filter-rule"></a>2단계: PowerShell을 사용하여 맬웨어 필터 규칙 만들기

맬웨어 필터 규칙을 만들 경우 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterRule -Name "<RuleName>" -MalwareFilterPolicy "<PolicyName>" <Recipient filters> [<Recipient filter exceptions>] [-Comments "<OptionalComments>"]
```

이 예에서는 다음 설정을 사용하여 Contoso Recipients라는 새 맬웨어 필터 규칙을 만듭니다.

- Contoso Malware Filter Policy라는 맬웨어 필터 정책은 규칙과 연결됩니다.
- 이 규칙은 도메인의 받는 사람에게 contoso.com 적용됩니다.

```PowerShell
New-MalwareFilterRule -Name "Contoso Recipients" -MalwareFilterPolicy "Contoso Malware Filter Policy" -RecipientDomainIs contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterRule 을 참조하십시오.](/powershell/module/exchange/new-malwarefilterrule)

### <a name="use-powershell-to-view-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 보기

모든 맬웨어 필터 정책의 요약 목록을 반환하기 위해 다음 명령을 실행합니다.

```PowerShell
Get-MalwareFilterPolicy
```

특정 맬웨어 필터 정책에 대한 자세한 정보를 반환하기 위해 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterPolicy -Identity "<PolicyName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 정책의 모든 속성 값을 반환합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List
```

이 예에서는 동일한 정책에 대해 지정된 속성만 반환합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List Action,AdminDisplayName,CustomNotifications,Enable*Notifications
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/get-malwarefilterpolicy)

### <a name="use-powershell-to-view-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 보기

모든 맬웨어 필터 규칙의 요약 목록을 반환하기 위해 다음 명령을 실행합니다.

```PowerShell
Get-MalwareFilterRule
```

활성화된 또는 비활성화된 규칙을 기준으로 목록을 필터링하려면 다음 명령을 실행합니다.

```PowerShell
Get-HostedContentFilterRule -State Disabled
```

```PowerShell
Get-HostedContentFilterRule -State Enabled
```

특정 맬웨어 필터 규칙에 대한 자세한 정보를 반환하기 위해 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterRule -Identity "<RuleName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 규칙에 대한 모든 속성 값을 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List
```

이 예제에서는 같은 규칙에 대해 지정된 속성만 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List Name,Priority,State,MalwareFilterPolicy,*Is,*SentTo,*MemberOf
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterRule 을 참조하십시오.](/powershell/module/exchange/get-malwarefilterrule)

### <a name="use-powershell-to-modify-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 수정

다음 항목 이외에도 이 문서 앞부분의 [1단계: PowerShell을](#step-1-use-powershell-to-create-a-malware-filter-policy) 사용하여 맬웨어 필터 정책 만들기 섹션에 설명된 대로 PowerShell에서 맬웨어 필터 정책을 수정할 때와 동일한 설정을 사용할 수 있습니다.

- 지정된 정책을 기본 정책으로 전환하는 _MakeDefault_ 스위치(모든 사용자에 적용,  가장 낮은 우선 순위 적용 및 삭제할 수 없습니다.)는 PowerShell에서 맬웨어 필터 정책을 수정할 때만 사용할 수 있습니다.
- 맬웨어 필터 정책의 이름을 다시 설정할 수 **없습니다(Set-MalwareFilterPolicy** cmdlet에는 Name 매개 _변수가_ 없음). 보안 센터에서 맬웨어 방지 정책의 이름을 다시 설정하면 맬웨어 필터 규칙의 이름만 다시 _설정됩니다._

맬웨어 필터 정책을 수정하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterPolicy -Identity "<PolicyName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/set-malwarefilterpolicy)

### <a name="use-powershell-to-modify-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 수정

PowerShell에서 맬웨어 필터 규칙을 수정할 때 사용할 수 없는 유일한 설정은 사용되지 않는 규칙을 만들 수 있는 _Enabled_ 매개 변수뿐입니다. 기존 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하려면 다음 섹션을 참조하세요.

그렇지 않으면 PowerShell에서 맬웨어 필터 규칙을 수정할 때 추가 설정을 사용할 수 없습니다. 이 문서 앞부분의 [2단계: PowerShell을](#step-2-use-powershell-to-create-a-malware-filter-rule) 사용하여 맬웨어 필터 규칙 만들기 섹션에 설명된 대로 규칙을 만들 때도 동일한 설정을 사용할 수 있습니다.

맬웨어 필터 규칙을 수정하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/set-malwarefilterrule)

### <a name="use-powershell-to-enable-or-disable-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙을 활성화 또는 비활성화

PowerShell에서 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하면 전체 맬웨어 방지 정책(맬웨어 필터 규칙 및 할당된 맬웨어 필터 정책)을 활성화하거나 사용하지 않도록 설정할 수 있습니다. 기본 맬웨어 방지 정책은 활성화하거나 사용하지 않도록 설정할 수 없습니다(항상 모든 받는 사람에게 적용됩니다).

PowerShell에서 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하려면 다음 구문을 사용 합니다.

```PowerShell
<Enable-MalwareFilterRule | Disable-MalwareFilterRule> -Identity "<RuleName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 규칙을 사용하지 않도록 설정합니다.

```PowerShell
Disable-MalwareFilterRule -Identity "Marketing Department"
```

다음은 동일한 규칙을 사용하도록 설정하는 예제입니다.

```PowerShell
Enable-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Enable-MalwareFilterRule](/powershell/module/exchange/enable-malwarefilterrule) 및 [Disable-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/disable-malwarefilterrule)

### <a name="use-powershell-to-set-the-priority-of-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙의 우선 순위 설정

규칙에 설정 가능한 가장 높은 우선 순위 값은 0입니다. 설정할 수 있는 가장 낮은 값은 규칙 수에 따라 달라집니다. 예를 들어 규칙이 5개 있는 경우, 우선순위 값 0~4를 사용할 수 있습니다. 기존 규칙의 우선순위를 변경하면 다른 규칙에 계단식 효과를 줄 수 있습니다. 예를 들어 사용자 지정 규칙 5개(우선순위: 0~4)가 있고 규칙의 우선순위를 2로 변경하면, 우선순위 2인 기존 규칙이 우선순위 3으로 변경되고, 우선순위 3인 규칙이 우선순위 4로 변경됩니다.

PowerShell에서 맬웨어 필터 규칙의 우선 순위를 설정하기 위해 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" -Priority <Number>
```

다음은 Marketing Department라는 규칙의 우선순위를 2로 설정하는 예제입니다. 우선순위가 2 이하인 모든 기존 규칙은 1씩 감소합니다(우선순위 번호는 1씩 증가함).

```PowerShell
Set-MalwareFilterRule -Identity "Marketing Department" -Priority 2
```

**참고:**

- 새 규칙을 만들 때 새 규칙의 우선 순위를 설정하기 위해 **New-MalwareFilterRule** cmdlet에서 _Priority_ 매개 변수를 대신 사용합니다.
- 기본 맬웨어 필터 정책에는 해당하는 맬웨어 필터 규칙이 없습니다. 항상 가장 낮은 우선 순위 값이 **가장 낮습니다.**

### <a name="use-powershell-to-remove-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 제거

PowerShell을 사용하여 맬웨어 필터 정책을 제거하면 해당 맬웨어 필터 규칙이 제거되지 않습니다.

PowerShell에서 맬웨어 필터 정책을 제거하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "<PolicyName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 정책을 제거합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/remove-malwarefilterpolicy)

### <a name="use-powershell-to-remove-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 제거

PowerShell을 사용하여 맬웨어 필터 규칙을 제거하면 해당 맬웨어 필터 정책이 제거되지 않습니다.

PowerShell에서 맬웨어 필터 규칙을 제거하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "<PolicyName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 규칙을 제거합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/remove-malwarefilterrule)

## <a name="how-do-you-know-these-procedures-worked"></a>이 절차가 제대로 수행되었는지 어떻게 확인하나요?

### <a name="use-the-eicartxt-file-to-verify-your-anti-malware-policy-settings"></a>맬웨어 EICAR.TXT 사용하여 맬웨어 방지 정책 설정 확인

> [!IMPORTANT]
> 파일 EICAR.TXT 바이러스가 아닙니다. EICAR(European Institute for Computer Antivirus Research)는 바이러스 백신 설치 및 설정을 안전하게 테스트하기 위해 이 파일을 개발했습니다.

1. 다음 메모장 열고 빈 파일에 다음 텍스트를 붙여 넣으면 됩니다.

   ```Text
   X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*
   ```

   파일에 텍스트 문자만 있는지 확인하십시오. 파일 크기는 68비트입니다.

2. 파일을 파일로 EICAR.TXT

   데스크톱 바이러스 백신 프로그램에서는 검사에서 EICAR.TXT 제외해야 합니다(그렇지 않으면 파일이 검사됩니다).

3. 파일을 자동으로 차단하지 않는 전자 메일 클라이언트를 사용하여 EICAR.TXT 파일이 포함된 전자 메일 메시지를 첨부 파일로 전송합니다. 맬웨어 방지 정책 설정을 사용하여 테스트할 다음 시나리오를 결정할 수 있습니다.
   - 내부 사서함에서 내부 받는 사람에게 전자 메일
   - 내부 사서함에서 외부 받는 사람에게 전자 메일
   - 외부 사서함에서 내부 받는 사람에게 전자 메일

4. 메시지가 차단된지 확인하고 맬웨어 방지 정책 설정에 따라 받는 사람 및 보낸 사람 알림 결과를 확인합니다. 예:

   - 받는 사람에게 알림이 제공되지 않습니다. 또는 받는 사람은 기본 또는 사용자  지정 텍스트가 EICAR.TXT 맬웨어 경고 메시지로 Text.txt원본 메시지를 받게 됩니다.
   - 내부 또는 외부 보낸 사람이 기본 또는 사용자 지정 알림 메시지로 알림을 수신합니다.
   - 지정한 관리자 전자 메일 주소는 기본 또는 사용자 지정 알림 메시지와 함께 내부 또는 외부 메시지 보낸 사람에 대한 알림을 제공합니다.

5. 테스트가 EICAR.TXT 후 파일 파일을 삭제합니다(다른 사용자가 불필요하게 경고하지 않도록).
