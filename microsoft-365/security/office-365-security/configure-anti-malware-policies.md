---
title: 맬웨어 방지 정책 구성
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: how-to
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: b0cfc21f-e3c6-41b6-8670-feb2b2e252e5
ms.collection:
- M365-security-compliance
- m365initiative-defender-office365
description: 관리자는 EOP(Exchange Online Protection)에서 맬웨어 방지 정책을 보고, 만들고, 수정하고, 제거하는 방법을 배울 수 있습니다.
ms.custom: seo-marvel-apr2020
ms.technology: mdo
ms.prod: m365-security
ms.openlocfilehash: 39998d53360d3b81389ffdc097652967a678d5a6
ms.sourcegitcommit: dcb97fbfdae52960ae62b6faa707a05358193ed5
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/25/2021
ms.locfileid: "51206326"
---
# <a name="configure-anti-malware-policies-in-eop"></a>EOP에서 맬웨어 방지 정책 구성

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender-for-office.md)]

**적용 대상**
- [Exchange Online Protection](exchange-online-protection-overview.md)
- [Office 365용 Microsoft Defender 플랜 1 및 플랜 2](defender-for-office-365.md)
- [Microsoft 365 Defender](../defender/microsoft-365-defender.md)

Exchange Online 사서함이 있는 Microsoft 365 조직 또는 Exchange Online 사서함이 없는 독립 실행형 EOP(Exchange Online Protection) 조직에서는 전자 메일 메시지가 EOP에 의해 맬웨어로부터 자동으로 보호됩니다. EOP는 맬웨어 보호 설정에 대해 맬웨어 방지 정책을 사용합니다. 자세한 내용은 맬웨어 방지 [보호를 참조하세요.](anti-malware-protection.md)

관리자는 조직의 요구에 맞게 기본 맬웨어 방지 정책을 보고, 편집하고, 구성할 수 있지만 삭제할 수 없습니다. 세분성을 강화하기 위해 조직의 특정 사용자, 그룹 또는 도메인에 적용되는 사용자 지정 맬웨어 방지 정책을 만들 수도 있습니다. 사용자 지정 정책은 항상 기본 정책보다 우선하지만, 사용자 지정 정책의 우선순위(실행 순서)를 변경할 수 있습니다.

보안 & 및 준수 센터 또는 PowerShell(Exchange Online 사서함이 있는 Microsoft 365 조직의 경우 Exchange Online PowerShell, Exchange Online 사서함이 없는 조직의 독립 실행형 EOP PowerShell)에서 맬웨어 방지 정책을 구성할 수 있습니다.

## <a name="what-do-you-need-to-know-before-you-begin"></a>시작하기 전에 알아야 할 내용은 무엇인가요?

- <https://protection.office.com/>에서 보안 및 준수 센터를 엽니다. 맬웨어 방지 **페이지로** 직접 이동하기 위해 를 <https://protection.office.com/antimalware> 사용하세요.

- Exchange Online PowerShell에 연결하려면 [Exchange Online PowerShell에 연결](/powershell/exchange/connect-to-exchange-online-powershell)을 참조하세요. 독립 실행형 EOP PowerShell에 연결하려면 [Exchange Online Protection PowerShell에 연결](/powershell/exchange/connect-to-exchange-online-protection-powershell)을 참조하세요.

- 이 게시물의 절차를 수행하려면 먼저 **Exchange Online** 에서 사용 권한을 할당받아야 합니다.
  - 맬웨어 방지 정책을 추가, 수정 및 삭제하려면 **조직** 관리 또는 보안 관리자 역할 그룹의 **구성원이면** 됩니다.
  - 맬웨어 방지 정책에 대한 읽기 전용 액세스의 경우  전역 읽기 프로그램 또는 보안 읽기 프로그램 역할 그룹의 **구성원이** 되거나 해야 합니다.

  자세한 내용은 [Exchange Online의 사용 권한](/exchange/permissions-exo/permissions-exo)을 참조하세요.

  **참고**:

  - Microsoft 365 관리 센터의 해당 Azure Active Directory 역할에 사용자를 추가하면 사용자에게 필요한 권한 _및_ Microsoft 365의 다른 기능에 대한 권한이 부여됩니다. 자세한 내용은 [관리자 역할 정보](../../admin/add-users/about-admin-roles.md)를 참조하세요.
  - [Exchange Online](/Exchange/permissions-exo/permissions-exo#role-groups)의 **보기 전용 조직 관리** 역할 그룹에도 기능에 대한 읽기 전용 권한을 부여합니다.

- 맬웨어 방지 정책에 대한 권장 설정은 EOP 맬웨어 방지 정책 [설정을 참조하세요.](recommended-settings-for-eop-and-office365.md#eop-anti-malware-policy-settings)

## <a name="use-the-security--compliance-center-to-create-anti-malware-policies"></a>보안 및 & 센터를 사용하여 맬웨어 방지 정책 만들기

Security & Compliance Center에서 사용자 지정 맬웨어 방지 정책을 만들면 맬웨어 필터 규칙과 연결된 맬웨어 필터 정책이 동시에 두 가지에 대해 동일한 이름을 사용하여 생성됩니다.

1. 보안 및 & 센터에서 위협 관리  정책 맬웨어 방지로 이동한 다음 새 아이콘 추가 \>  \>  **를** ![ ](../../media/ITPro-EAC-AddIcon.png) 클릭합니다.

2. 새 **맬웨어** 방지 정책 페이지가 열리면 다음 설정을 구성합니다.

   - **이름**: 정책을 설명하는 고유한 이름을 입력합니다.

   - **설명**: 정책에 대한 선택적 설명을 입력합니다.

   - **맬웨어** 검색 응답: 다음 값 중 하나를 선택합니다. 받는 사람에게 메시지가 검사된 경우 이를 알리시겠습니까? 설정에 대해 다음 값을 선택합니다. 

     - **아니요:** 메시지가 받는 사람에게 알림이 제공되지 않습니다. 이 값은 기본값입니다.

     - **예 및 기본** 알림 텍스트 사용: 메시지가 quarantined입니다. 메시지의 복사본은 받는 사람에게 배달되지만  검색된 첨부 파일 뿐만 아니라 모든 첨부 파일이 기본 텍스트를  포함하는 맬웨어 경고 Text.txt파일로 대체됩니다. 기본 텍스트는 맬웨어 방지 [정책 을 참조합니다.](anti-malware-protection.md#anti-malware-policies)

     - **예 및 사용자 지정 알림 텍스트** 사용: 메시지가 검색됩니다. 메시지의 복사본은 받는 사람에게 배달되지만  검색된 첨부 파일 뿐만 아니라 모든 첨부 **파일은** 맬웨어 경고 Text.txt사용자 지정 경고 텍스트 상자에 지정한 사용자 지정 텍스트를 포함하는 단일 텍스트 파일로 **대체됩니다.**

   - **일반 첨부 파일 형식 필터:** 컴퓨터를 손상할 수 있는 첨부 파일 형식을 차단하려면 다음 값 중 **하나를 선택합니다.**

     - **끄기**

     - **On**: 지정된 첨부 파일이 있는 메시지는 맬웨어 검색으로 처리되고 자동으로 검리됩니다. 추가 및 제거 단추를 클릭하여 목록을 **수정할** **수** 있습니다.

   - **맬웨어 제로 아워 자동** 제거: 맬웨어 ZAP는 이미 배달된 메시지를 차단합니다. 자세한 내용은 [Exchange Online의 ZAP(제로 아워 자동 제거)를 참조하세요.](zero-hour-auto-purge.md) 다음 값 중 하나를 선택합니다.

     - **끄기**

     - **On(권장)**

   - **알림:** 이 섹션의 설정은 메시지에서 맬웨어가 감지될 때 보낸 사람 및 관리자 알림을 제어합니다.

     - **보낸 사람 알림:** 다음 옵션 중 하나 또는 둘 다를 선택합니다.

       - **내부 보낸 사람 알림:** 내부 보낸 사람이 조직 내부에 있습니다.

       - **외부 보낸 사람 알림:** 외부 보낸 사람이 조직 외부에 있습니다.

     - **관리자 알림:** 다음 옵션 중 하나 또는 둘 다를 선택합니다.

       - **관리자에게** 내부 보낸 사람이 보낸 알 수 없는 메시지에 대한 알림: 이 옵션을 선택하는 경우 관리자 전자 메일 주소 상자에 알림 전자 메일 **주소를 입력합니다.**

       - **외부 보낸** 사람이 보낸 미확인 메시지에 대해 관리자에게 알릴 수 있습니다. 이 옵션을 선택하는 경우 관리자 전자 메일 주소 상자에 알림 전자 메일 **주소를 입력합니다.**

     - **알림 사용자** 지정: 이러한 설정은 보낸 사람 또는 관리자에 사용되는 기본 알림 텍스트를 대체합니다. 기본값에 대한 자세한 내용은 맬웨어 방지 [정책 을 참조하세요.](anti-malware-protection.md#anti-malware-policies)

       - **사용자** 지정 알림 텍스트 사용: 이 옵션을 선택하는  경우  보낸 사람 이름 및 보낸 사람 주소 상자를 사용하여 사용자 지정된 알림 메시지에 사용되는 보낸 사람 이름과 전자 메일 주소를 지정해야 합니다.

       - 내부 보낸 사람이 보낸 **메시지:** 보낸 사람 또는 관리자에게 내부 보낸 사람이 보낸 메시지를 알릴 수 없는  경우  제목 및 메시지 상자를 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.

       - 외부 보낸 사람이 보낸 **메시지:** 보낸 사람 또는 관리자에게 외부 보낸 사람이 보낸 메시지를 알릴 수 없는  경우  제목 및 메시지 상자를 사용하여 사용자 지정 알림 메시지의 제목과 메시지 본문을 지정해야 합니다.

   - **적용 대상:** 이 섹션의 설정은 정책이 적용되는 내부 받는 사람을 식별합니다.

     - **If:** Select **one(선택) 드롭다운을** 클릭하고 규칙에 대한 조건을 선택합니다.

       - **받는 사람:** 조직에서 하나 이상의 사서함, 메일 사용자 또는 메일 연락처를 지정합니다. 구성원 **선택 대화** 상자가 나타나면 목록에서 받는 사람을 한 명 이상 선택하고 추가 - **\>** 를 클릭합니다. 이름 **확인 상자에서** 와일드카드를 사용하여 여러 전자 메일 주소(예: \* @fabrikam.com)를 사용할 수 있습니다. 작업을 마친 후 **확인** 을 클릭합니다.

       - **받는 사람 도메인은**: 조직에서 구성된 하나 이상의 허용 도메인에 있는 받는 사람을 지정합니다. 대화 상자가 나타나면 하나 이상의 도메인을 선택하고 추가 **- \>** 를 클릭합니다. 작업을 마친 후 **확인** 을 클릭합니다.

       - **받는 사람이 :의 구성원입니다.** 조직에서 하나 이상의 그룹을 지정합니다. 구성원 **선택 대화** 상자가 나타나면 목록에서 그룹을 하나 이상 선택하고 추가 - **\>** 를 클릭합니다. 작업을 마친 후 **확인** 을 클릭합니다.

     조건을 한 번만 사용할 수 있지만 조건에 대해 여러 값을 지정할 수 있습니다. 같은 조건의 여러 값은 OR 논리(예: 또는 )를 _\<recipient1\>_ _\<recipient2\>_ 사용합니다. 다른 조건은 AND 논리(예: 및 )를 _\<recipient1\>_ _\<member of group 1\>_ 사용합니다. 조건을 더 추가하려면 **조건** 추가를 클릭하고 나머지 옵션에서 선택합니다.

     - **예외:** 규칙에 대한 예외를 추가하려면 예외 추가를  **클릭하고** 선택 드롭다운을 클릭하고 예외를 구성합니다. 설정 및 동작은 조건과 정확히 같습니다.

3. 작업을 마쳤으면 **저장** 을 클릭합니다.

## <a name="use-the-security--compliance-center-to-view-anti-malware-policies"></a>보안 및 & 센터를 사용하여 맬웨어 방지 정책 보기

1. 보안 및 & 센터에서 위협 관리 정책 **맬웨어** 방지 \>  \> **로 이동 합니다.**

2. 정책을 선택하면 정책에 대한 정보가 세부 정보 창에 표시됩니다. 정책에 대한 자세한 정보를 보려면 편집 편집 아이콘 **을** ![ ](../../media/ITPro-EAC-EditIcon.png) 클릭합니다.

   - **Enabled** 속성 값, **Priority** 속성 값 및 **적용된** 탭의 설정은 맬웨어 필터 규칙에 있습니다.

   - 일반 및  설정 탭의 **설정은** 맬웨어 필터 정책에 있습니다.

## <a name="use-the-security--compliance-center-to-modify-anti-malware-policies"></a>보안 및 & 센터를 사용하여 맬웨어 방지 정책 수정

1. 보안 및 & 센터에서 위협 관리 정책 **맬웨어** 방지 \>  \> **로 이동 합니다.**

2. 정책을 선택하고 편집 **편집** ![ 아이콘 을 ](../../media/ITPro-EAC-EditIcon.png) 클릭합니다. 설정에 대한 자세한 내용은 이 문서의 보안 및 준수 [&](#use-the-security--compliance-center-to-create-anti-malware-policies) 사용하여 맬웨어 방지 정책 만들기 섹션을 참조하세요.

   **참고:**

   - 한 페이지에 있는 모든 것이 아니라 설정이 **일반,** 설정 및 탭에 **적용으로** 나뉘어 있습니다.  적용된 **탭은** Default라는 기본 정책(모든 사용자에 자동으로 적용)에서는 사용할 수 없습니다.

   - 기본 정책의 이름을 변경하면 안 됩니다.

## <a name="use-the-security--compliance-center-to-enable-or-disable-anti-malware-policies"></a>보안 및 & 센터를 사용하여 맬웨어 방지 정책을 사용하도록 설정하거나 사용하지 않도록 설정

1. 보안 및 & 센터에서 위협 관리 정책 **맬웨어** 방지 \>  \> **로 이동 합니다.**

2. 목록에서 정책을 선택하고 다음 설정 중 하나를 구성합니다.

   - **정책 사용 안함**: 사용 열에서 확인란의 **선택을 취소합니다.** 기본적으로 맬웨어 방지 정책은 보안 및 준수 센터에서 만들 때 & 설정됩니다.

   - **정책 사용:** 사용 열에서 **확인란을** 선택합니다.

## <a name="use-the-security--compliance-center-to-set-the-priority-of-custom-anti-malware-policies"></a>보안 및 & 센터를 사용하여 사용자 지정 맬웨어 방지 정책의 우선 순위 설정

기본적으로 맬웨어 방지 정책에는 만들어진 순서에 따라 우선 순위가 부여됩니다(새 정책은 이전 정책보다 우선 순위가 낮음). 우선 순위 수가 낮을수록 정책의 우선 순위가 높을수록 정책이 우선 순위 순서대로 처리됩니다(우선 순위가 높은 정책은 낮은 우선 순위 정책보다 먼저 처리). 두 정책의 우선순위는 동일 할 수 없으며, 첫 번째 정책이 적용된 후에는 정책 처리가 중지됩니다.

 **참고:**

- 보안 & 준수 센터에서는 맬웨어 방지 정책을 만든 후에만 맬웨어 방지 정책의 우선 순위를 변경할 수 있습니다. PowerShell에서 기존 규칙의 우선 순위에 영향을 줄 수 있는 맬웨어 필터 규칙을 만들 때 기본 우선 순위를 다시 정할 수 있습니다.

- 보안 & 준수 센터에서 맬웨어 방지 정책은 표시되는 순서대로 처리됩니다(첫 번째 정책의 우선 순위 값은 0).  Default라는 기본 맬웨어 방지 정책의 우선 순위 값은 **가장** 낮습니다. 이 정책은 변경할 수 없습니다.

정책의 우선순위를 변경하려면 목록에서 정책을 위나 아래로 이동합니다. 보안 및 준수 센터에서 **우선순위** 번호를 직접 수정할 수는 없습니다.

1. 보안 및 & 센터에서 위협 관리 정책 **맬웨어** 방지 \>  \> **로 이동 합니다.**

2. 정책을 선택한 다음 위쪽  화살표 아이콘 또는 아래로 이동 화살표 아이콘을 클릭하여 규칙을 목록에서 위쪽 ![ 또는 ](../../media/ITPro-EAC-UpArrowIcon.png)  ![ ](../../media/ITPro-EAC-DownArrowIcon.png) 아래쪽으로 이동합니다.

## <a name="use-the-security--compliance-center-to-remove-anti-malware-policies"></a>보안 및 & 센터를 사용하여 맬웨어 방지 정책 제거

보안 및 준수 & 사용하여 맬웨어 방지 정책을 제거하면 맬웨어 필터 규칙과 해당 맬웨어 필터 정책이 모두 삭제됩니다.

1. 보안 및 & 센터에서 위협 관리 정책 **맬웨어** 방지 \>  \> **로 이동 합니다.**

2. 목록에서 제거할 맬웨어 방지 정책을 선택한 다음 삭제 **삭제** 아이콘 ![ 을 ](../../media/ITPro-EAC-DeleteIcon.png) 클릭합니다.

## <a name="use-exchange-online-powershell-or-standalone-eop-powershell-to-configure-anti-malware-policies"></a>Exchange Online PowerShell 또는 독립 실행형 EOP PowerShell을 사용하여 맬웨어 방지 정책 구성

### <a name="use-powershell-to-create-anti-malware-policies"></a>PowerShell을 사용하여 맬웨어 방지 정책 만들기

PowerShell에서 맬웨어 방지 정책을 만드는 과정은 다음 두 단계로 진행됩니다.

1. 맬웨어 필터 정책을 만들 수 있습니다.

2. 규칙이 적용되는 맬웨어 필터 정책을 지정하는 맬웨어 필터 규칙을 생성합니다.

 **참고:**

- 새 맬웨어 필터 규칙을 만들고 기존의 통합되지 않은 맬웨어 필터 정책을 할당할 수 있습니다. 맬웨어 필터 규칙은 두 개 이상의 맬웨어 필터 정책과 연결될 수 없습니다.

- 정책을 만들 때까지 보안 및 준수 센터에서 사용할 수 없는 PowerShell의 새로운 맬웨어 방지 정책에 대해 & 수 있습니다.

  - 새 정책을 사용하지 않도록 `$false` **설정(New-MalwareFilterRule** cmdlet에서 사용)으로 설정합니다.

  -  _\<Number\>_ **New-MalwareFilterRule** cmdlet에서 만들기 중에 정책의 우선 순위( 우선 순위)를 설정하십시오.

- PowerShell에서 만든 새 맬웨어 필터 정책은 맬웨어 필터 규칙에 정책을 할당할 때까지 보안 & 준수 센터에 표시되지 않습니다.

#### <a name="step-1-use-powershell-to-create-a-malware-filter-policy"></a>1단계: PowerShell을 사용하여 맬웨어 필터 정책 만들기

**참고:** EOP에서 _Action_ 매개 변수 값 `DeleteMessage` , 및 메시지를 `DeleteAttachmentAndUseDefaultAlert` `DeleteAttachmentAndUseCustomAlert` 삭제하지 않습니다. 대신 메시지는 quarantined입니다. 메시지 검색에 대한 자세한 내용은 EOP에서 관리자로 [quarantined messages and files as an admin를 참조하십시오.](manage-quarantined-messages-and-files.md)

맬웨어 필터 정책을 만들 경우 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterPolicy -Name "<PolicyName>" [-Action <DeleteMessage | DeleteAttachmentAndUseDefaultAlert | DeleteAttachmentAndUseCustomAlert>] [-AdminDisplayName "<OptionalComments>"] [-CustomNotifications <$true | $false>] [<Inbound notification options>] [<Outbound notification options>]
```

이 예에서는 다음 설정을 사용하여 Contoso Malware Filter Policy라는 새 맬웨어 필터 정책을 만듭니다.

- 받는 사람에게 알리지 않고 맬웨어가 포함된 메시지를 차단합니다(Action  매개 변수를 사용하지 않고 기본값은 `DeleteMessage` ).

- 메시지에서 맬웨어가 검색된 경우 메시지 보낸 사람에 알리지 _않습니다(EnableExternalSenderNotifications_ 또는 _EnableInternalSenderNotifications_ 매개 변수를 사용하지 않습니다. 두 매개 변수의 기본값은 모두 `$false` ).입니다.

- 내부 보낸 사람의 메시지에서 맬웨어가 탐지되는 경우 관리자인 admin@contoso.com에게 알립니다.

```PowerShell
New-MalwareFilterPolicy -Name "Contoso Malware Filter Policy" -EnableInternalSenderAdminNotifications $true -InternalSenderAdminAddress admin@contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/new-malwarefilterpolicy)

#### <a name="step-2-use-powershell-to-create-a-malware-filter-rule"></a>2단계: PowerShell을 사용하여 맬웨어 필터 규칙 만들기

맬웨어 필터 규칙을 만들 경우 다음 구문을 사용 합니다.

```PowerShell
New-MalwareFilterRule -Name "<RuleName>" -MalwareFilterPolicy "<PolicyName>" <Recipient filters> [<Recipient filter exceptions>] [-Comments "<OptionalComments>"]
```

이 예에서는 다음 설정을 사용하여 Contoso Recipients라는 새 맬웨어 필터 규칙을 만듭니다.

- Contoso Malware Filter Policy라는 맬웨어 필터 정책은 규칙과 연결됩니다.

- 이 규칙은 도메인의 받는 사람에게 contoso.com 적용됩니다.

```PowerShell
New-MalwareFilterRule -Name "Contoso Recipients" -MalwareFilterPolicy "Contoso Malware Filter Policy" -RecipientDomainIs contoso.com
```

구문과 매개 변수에 대한 자세한 내용은 [New-MalwareFilterRule 을 참조하십시오.](/powershell/module/exchange/new-malwarefilterrule)

### <a name="use-powershell-to-view-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 보기

모든 맬웨어 필터 정책의 요약 목록을 반환하기 위해 다음 명령을 실행합니다.

```PowerShell
Get-MalwareFilterPolicy
```

특정 맬웨어 필터 정책에 대한 자세한 정보를 반환하기 위해 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterPolicy -Identity "<PolicyName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 정책의 모든 속성 값을 반환합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List
```

이 예에서는 동일한 정책에 대해 지정된 속성만 반환합니다.

```PowerShell
Get-MalwareFilterPolicy -Identity "Executives" | Format-List Action,AdminDisplayName,CustomNotifications,Enable*Notifications
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/get-malwarefilterpolicy)

### <a name="use-powershell-to-view-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 보기

모든 맬웨어 필터 규칙의 요약 목록을 반환하기 위해 다음 명령을 실행합니다.

```PowerShell
Get-MalwareFilterRule
```

활성화된 또는 비활성화된 규칙을 기준으로 목록을 필터링하려면 다음 명령을 실행합니다.

```PowerShell
Get-HostedContentFilterRule -State Disabled
```

```PowerShell
Get-HostedContentFilterRule -State Enabled
```

특정 맬웨어 필터 규칙에 대한 자세한 정보를 반환하기 위해 다음 구문을 사용하세요.

```PowerShell
Get-MalwareFilterRule -Identity "<RuleName>" | Format-List [<Specific properties to view>]
```

이 예에서는 Executives라는 맬웨어 필터 규칙에 대한 모든 속성 값을 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List
```

이 예제에서는 같은 규칙에 대해 지정된 속성만 반환합니다.

```PowerShell
Get-MalwareFilterRule -Identity "Executives" | Format-List Name,Priority,State,MalwareFilterPolicy,*Is,*SentTo,*MemberOf
```

구문과 매개 변수에 대한 자세한 내용은 [Get-MalwareFilterRule 을 참조하십시오.](/powershell/module/exchange/get-malwarefilterrule)

### <a name="use-powershell-to-modify-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 수정

다음 항목 이외에도 이 문서 앞부분의 [1단계: PowerShell을](#step-1-use-powershell-to-create-a-malware-filter-policy) 사용하여 맬웨어 필터 정책 만들기 섹션에 설명된 대로 PowerShell에서 맬웨어 필터 정책을 수정할 때와 동일한 설정을 사용할 수 있습니다.

- 지정된 정책을 기본 정책으로 전환하는 _MakeDefault_ 스위치(모든 사용자에 적용,  가장 낮은 우선 순위 적용 및 삭제할 수 없습니다.)는 PowerShell에서 맬웨어 필터 정책을 수정할 때만 사용할 수 있습니다.

- 맬웨어 필터 정책의 이름을 다시 설정할 수 **없습니다(Set-MalwareFilterPolicy** cmdlet에는 Name 매개 _변수가_ 없음). 보안 및 준수 센터에서 맬웨어 방지 정책의 이름을 & 맬웨어 필터 규칙의 이름만 다시 _매기게 됩니다._

맬웨어 필터 정책을 수정하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterPolicy -Identity "<PolicyName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/set-malwarefilterpolicy)

### <a name="use-powershell-to-modify-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 수정

PowerShell에서 맬웨어 필터 규칙을 수정할 때 사용할 수 없는 유일한 설정은 사용되지 않는 규칙을 만들 수 있는 _Enabled_ 매개 변수뿐입니다. 기존 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하려면 다음 섹션을 참조하세요.

그렇지 않으면 PowerShell에서 맬웨어 필터 규칙을 수정할 때 추가 설정을 사용할 수 없습니다. 이 문서 앞부분의 [2단계: PowerShell을](#step-2-use-powershell-to-create-a-malware-filter-rule) 사용하여 맬웨어 필터 규칙 만들기 섹션에 설명된 대로 규칙을 만들 때도 동일한 설정을 사용할 수 있습니다.

맬웨어 필터 규칙을 수정하려면 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" <Settings>
```

구문과 매개 변수에 대한 자세한 내용은 [Set-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/set-malwarefilterrule)

### <a name="use-powershell-to-enable-or-disable-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙을 활성화 또는 비활성화

PowerShell에서 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하면 전체 맬웨어 방지 정책(맬웨어 필터 규칙 및 할당된 맬웨어 필터 정책)을 활성화하거나 사용하지 않도록 설정할 수 있습니다. 기본 맬웨어 방지 정책은 활성화하거나 사용하지 않도록 설정할 수 없습니다(항상 모든 받는 사람에게 적용됩니다).

PowerShell에서 맬웨어 필터 규칙을 사용하도록 설정하거나 사용하지 않도록 설정하려면 다음 구문을 사용 합니다.

```PowerShell
<Enable-MalwareFilterRule | Disable-MalwareFilterRule> -Identity "<RuleName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 규칙을 사용하지 않도록 설정합니다.

```PowerShell
Disable-MalwareFilterRule -Identity "Marketing Department"
```

다음은 동일한 규칙을 사용하도록 설정하는 예제입니다.

```PowerShell
Enable-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Enable-MalwareFilterRule](/powershell/module/exchange/enable-malwarefilterrule) 및 [Disable-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/disable-malwarefilterrule)

### <a name="use-powershell-to-set-the-priority-of-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙의 우선 순위 설정

규칙에 설정 가능한 가장 높은 우선 순위 값은 0입니다. 설정할 수 있는 가장 낮은 값은 규칙 수에 따라 달라집니다. 예를 들어 규칙이 5개 있는 경우, 우선순위 값 0~4를 사용할 수 있습니다. 기존 규칙의 우선순위를 변경하면 다른 규칙에 계단식 효과를 줄 수 있습니다. 예를 들어 사용자 지정 규칙 5개(우선순위: 0~4)가 있고 규칙의 우선순위를 2로 변경하면, 우선순위 2인 기존 규칙이 우선순위 3으로 변경되고, 우선순위 3인 규칙이 우선순위 4로 변경됩니다.

PowerShell에서 맬웨어 필터 규칙의 우선 순위를 설정하기 위해 다음 구문을 사용 합니다.

```PowerShell
Set-MalwareFilterRule -Identity "<RuleName>" -Priority <Number>
```

다음은 Marketing Department라는 규칙의 우선순위를 2로 설정하는 예제입니다. 우선순위가 2 이하인 모든 기존 규칙은 1씩 감소합니다(우선순위 번호는 1씩 증가함).

```PowerShell
Set-MalwareFilterRule -Identity "Marketing Department" -Priority 2
```

**참고:**

- 새 규칙을 만들 때 새 규칙의 우선 순위를 설정하기 위해 **New-MalwareFilterRule** cmdlet에서 _Priority_ 매개 변수를 대신 사용합니다.

- 기본 맬웨어 필터 정책에는 해당하는 맬웨어 필터 규칙이 없습니다. 항상 가장 낮은 우선 순위 값이 **가장 낮습니다.**

### <a name="use-powershell-to-remove-malware-filter-policies"></a>PowerShell을 사용하여 맬웨어 필터 정책 제거

PowerShell을 사용하여 맬웨어 필터 정책을 제거하면 해당 맬웨어 필터 규칙이 제거되지 않습니다.

PowerShell에서 맬웨어 필터 정책을 제거하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "<PolicyName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 정책을 제거합니다.

```PowerShell
Remove-MalwareFilterPolicy -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterPolicy를 참조하십시오.](/powershell/module/exchange/remove-malwarefilterpolicy)

### <a name="use-powershell-to-remove-malware-filter-rules"></a>PowerShell을 사용하여 맬웨어 필터 규칙 제거

PowerShell을 사용하여 맬웨어 필터 규칙을 제거하면 해당 맬웨어 필터 정책이 제거되지 않습니다.

PowerShell에서 맬웨어 필터 규칙을 제거하려면 다음 구문을 사용 합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "<PolicyName>"
```

이 예에서는 Marketing Department라는 맬웨어 필터 규칙을 제거합니다.

```PowerShell
Remove-MalwareFilterRule -Identity "Marketing Department"
```

구문과 매개 변수에 대한 자세한 내용은 [Remove-MalwareFilterRule을 참조하십시오.](/powershell/module/exchange/remove-malwarefilterrule)

## <a name="how-do-you-know-these-procedures-worked"></a>이 절차가 제대로 수행되었는지 어떻게 확인하나요?

### <a name="use-the-eicartxt-file-to-verify-your-anti-malware-policy-settings"></a>맬웨어 EICAR.TXT 사용하여 맬웨어 방지 정책 설정 확인

> [!IMPORTANT]
> 파일 EICAR.TXT 바이러스가 아닙니다. EICAR(European Institute for Computer Antivirus Research)는 바이러스 백신 설치 및 설정을 안전하게 테스트하기 위해 이 파일을 개발했습니다.

1. 메모장과 다음 텍스트를 빈 파일에 붙여 넣기

   ```Text
   X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*
   ```

   파일에 텍스트 문자만 있는지 확인하십시오. 파일 크기는 68비트입니다.

2. 파일을 파일로 EICAR.TXT

   데스크톱 바이러스 백신 프로그램에서는 검사에서 EICAR.TXT 제외해야 합니다(그렇지 않으면 파일이 검사됩니다).

3. 파일을 자동으로 차단하지 않는 전자 메일 클라이언트를 사용하여 EICAR.TXT 파일이 포함된 전자 메일 메시지를 첨부 파일로 전송합니다. 맬웨어 방지 정책 설정을 사용하여 테스트할 다음 시나리오를 결정할 수 있습니다.

   - 내부 사서함에서 내부 받는 사람에게 전자 메일

   - 내부 사서함에서 외부 받는 사람에게 전자 메일

   - 외부 사서함에서 내부 받는 사람에게 전자 메일

4. 메시지가 차단된지 확인하고 맬웨어 방지 정책 설정에 따라 받는 사람 및 보낸 사람 알림 결과를 확인합니다. 예를 들면 다음과 같습니다.

   - 받는 사람에게 알림이 제공되지 않습니다. 또는 받는 사람은 기본 또는 사용자  지정 텍스트가 EICAR.TXT 맬웨어 경고 메시지로 Text.txt원본 메시지를 받게 됩니다.

   - 내부 또는 외부 보낸 사람이 기본 또는 사용자 지정 알림 메시지로 알림을 수신합니다.

   - 지정한 관리자 전자 메일 주소는 기본 또는 사용자 지정 알림 메시지와 함께 내부 또는 외부 메시지 보낸 사람에 대한 알림을 제공합니다.

5. 테스트가 EICAR.TXT 후 파일 파일을 삭제합니다(다른 사용자가 불필요하게 경고하지 않도록).