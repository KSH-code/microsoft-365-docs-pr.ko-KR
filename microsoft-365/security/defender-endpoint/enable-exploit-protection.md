---
title: 공격으로부터 완화하는 데 도움이 되는 Exploit Protection 켜기
keywords: 악용, 완화, 공격, 취약성
description: Windows 10에서 Exploit Protection을 사용하도록 설정하는 방법을 학습합니다. Exploit Protection은 맬웨어로부터 장치를 보호하는 데 도움이 됩니다.
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.reviewer: ksarens
manager: dansimp
ms.technology: mde
ms.openlocfilehash: 25f88b926d1d9369950acd32d6a24deb72695977
ms.sourcegitcommit: 2a708650b7e30a53d10a2fe3164c6ed5ea37d868
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/24/2021
ms.locfileid: "51164765"
---
# <a name="enable-exploit-protection"></a>Exploit Protection 사용

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

**적용 대상:**
- [엔드포인트용 Microsoft Defender](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [Microsoft 365 Defender](https://go.microsoft.com/fwlink/?linkid=2118804)

>Endpoint용 Defender를 경험하고 싶나요? [무료 평가판에 등록합니다.](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-assignaccess-abovefoldlink)

[Exploit Protection은](exploit-protection.md) 악용을 사용하여 장치를 감염하고 확산하는 맬웨어로부터 보호합니다. Exploit Protection은 운영 체제 또는 개별 앱에 적용할 수 있는 다양한 완화로 구성됩니다.

> [!IMPORTANT]
> .NET 2.0은 일부 악용 방지 기능, 특히 EAF(내보내기 주소 필터링) 및 IAF(가져오기 주소 필터링)와 호환되지 않습니다. .NET 2.0을 사용하도록 설정한 경우 EAF 및 IAF 사용이 지원되지 않습니다.

EMET(Enhanced Mitigation Experience Toolkit)의 많은 기능이 Exploit Protection에 포함되어 있습니다.

다음 방법 중 하나에 따라 각 완화를 개별적으로 사용하도록 설정할 수 있습니다.   
- [Windows 보안 앱](#windows-security-app)
- [Microsoft Intune](#intune)
- [MDM(모바일 장치 관리)](#mdm)
- [Microsoft Endpoint Configuration Manager](#microsoft-endpoint-configuration-manager)
- [그룹 정책](#group-policy)
- [PowerShell](#powershell)

Exploit Protection은 Windows 10에서 기본적으로 구성됩니다. 각 완화를 설정, 해제 또는 기본값으로 설정할 수 있습니다. 일부 완화에는 추가 옵션이 있습니다.

이러한 설정을 [XML 파일로 내보내고](import-export-exploit-protection-emet-xml.md) 다른 장치에 배포할 수 있습니다.

완화를 감사 모드로 설정할 [수 있습니다.](evaluate-exploit-protection.md) 감사 모드를 사용하면 장치의 일반적인 사용에 영향을 주지 않고 완화가 어떻게 작동하고 이벤트를 검토하는지 테스트할 수 있습니다.

## <a name="windows-security-app"></a>Windows 보안 앱

1. 작업 표시줄에서 방패 아이콘을 선택하거나 보안에 대한 시작 메뉴를 검색하여 Windows 보안 앱을 열 **수 있습니다.**

2. App & **브라우저** 컨트롤 타일(또는 왼쪽 메뉴 표시줄의 앱 아이콘)을 선택한 다음 **Exploit Protection 설정을 선택합니다.**

3. 프로그램 **설정으로 이동하여** 완화를 적용할 앱을 선택합니다. <br/>
    - 구성할 앱이 이미 나열되어 있는 경우 해당 앱을 선택하고 편집 을 **선택합니다.**
    - 앱이 목록에 없는 경우 목록 맨 위에  있는 프로그램 추가를 선택하여 사용자 지정한 다음 앱을 추가할 방법을 선택합니다. <br/>
    - 프로그램 **이름으로 추가를** 사용하여 해당 이름을 사용하여 실행 중인 모든 프로세스에 완화를 적용합니다. 확장명을 사용하여 파일을 지정해야 합니다. 전체 경로를 입력하여 완화를 해당 위치에 있는 해당 이름의 앱으로만 제한할 수 있습니다.
    - 정확한 **파일 경로 선택을** 사용하여 표준 Windows 탐색기 파일 선택기 창을 사용하여 원하는 파일을 찾아 선택합니다.

4. 앱을 선택하면 적용할 수 있는 모든 완화 목록이 표시됩니다. 감사를 **선택하면** 감사 모드에서만 완화가 적용됩니다. 프로세스 또는 앱을 다시 시작해야 하는 경우 또는 Windows를 다시 시작해야 하는 경우 알림을 제공합니다.

5. 구성할 모든 앱 및 완화에 대해 3-4단계를 반복합니다.

6. 시스템 **설정 섹션에서** 구성할 완화를 찾은 다음 다음 설정 중 하나를 지정합니다. 프로그램 설정 섹션에서 개별적으로 구성되지  않은 앱은 여기에 구성된 설정을 사용합니다.<br/>
    - **기본적으로 :** 이 완화가 앱  관련 프로그램 설정 섹션에서 설정되지 않은 앱에 대해 완화가 **사용하도록 설정됩니다.**
    - **기본적으로 해제:** 앱 관련 프로그램  설정 섹션에서 이 완화가 설정되지 않은 앱에 대해 완화가 사용되지 **않도록 설정됩니다.**
    - **기본값 사용:** 완화는 Windows 10 설치에 의해 설정된 기본 구성에 따라 사용 또는 비활성화됩니다. 기본값(**설정** 또는 해제)은 항상  각 완화에 대해 기본 레이블 사용 옆에 지정됩니다.

7. 구성할 모든 시스템 수준 완화에 대해 6단계를 반복합니다. 구성 **설정을** 완료하면 적용을 선택합니다.

프로그램 설정 섹션에  앱을 추가하고 여기에 개별 완화 설정을 구성하면 시스템 설정 섹션에 지정된 동일한 완화에 대한 구성 위에 앱이 **적용됩니다.** 다음 행렬과 예제는 기본값의 작동 방법을 보여 주는 데 도움이 됩니다.

|프로그램 **설정에서 사용** | 시스템 **설정에서 사용** | 동작 |
|:---|:---|:---|
|![확인 표시 예](/security/defender-endpoint/images/svg/check-yes) | ![확인 표시 아니요](/security/defender-endpoint/images/svg/check-no) | 프로그램 **설정에 정의된 경우** |
|![확인 표시 예](/security/defender-endpoint/images/svg/check-yes) | ![확인 표시 예](/security/defender-endpoint/images/svg/check-yes) | 프로그램 **설정에 정의된 경우** |
|![확인 표시 아니요](/security/defender-endpoint/images/svg/check-no) | ![확인 표시 예](/security/defender-endpoint/images/svg/check-yes) | 시스템 **설정에 정의된 경우** |
|![확인 표시 아니요](/security/defender-endpoint/images/svg/check-no) | ![확인 표시 예](/security/defender-endpoint/images/svg/check-yes) | 기본 옵션 **사용에 정의된 기본값** |

### <a name="example-1-mikael-configures-data-execution-prevention-in-system-settings-section-to-be-off-by-default"></a>예제 1: Mikael은 시스템 설정 섹션에서 데이터 실행 방지를 기본적으로 해제하도록 구성합니다.

Mikael은 프로그램 설정 *test.exe* 앱 앱을 **추가합니다.** 해당 앱에 대한 **옵션에서 DEP(데이터** 실행 방지)에서  Mikael은 시스템 설정 다시 적용 옵션을 활성화하고 스위치를 켜기 로 **설정합니다.** 프로그램 설정 섹션에는 다른 **앱이 나열되지** 않습니다.

결과적으로 DEP는 에서만 *test.exe.* 다른 모든 앱에는 DEP가 적용되지 않습니다.

### <a name="example-2-josie-configures-data-execution-prevention-in-system-settings-to-be-off-by-default"></a>예제 2: Josie는 시스템 설정에서 기본적으로 데이터 실행 방지를 해제하도록 구성합니다.

Josie는 프로그램  설정 섹션에test.exe **추가합니다.** 해당 앱에 대한 **옵션에서 DEP(데이터** 실행 방지)에서  Josie는 시스템 설정 다시 적용 옵션을 활성화하고 스위치를 켜기 로 **설정합니다.**

또한 Josie는 프로그램  설정 섹션에 miles.exe추가하고 **에 CFG(제어** 흐름 보호)를 **구성합니다.** Josie는 DEP  또는 해당 앱에 대한 다른 완화에 대해 시스템 설정 다시 적용 옵션을 사용하도록 설정하지 않습니다.

결과적으로 에 대해 DEP가 사용하도록 *test.exe.* DEP는 를 비롯한 다른 앱에 대해 *miles.exe.* CFG는 에 대해 *miles.exe.*

1. 작업 표시줄에서 방패 아이콘을 선택하거나 **Defender의** 시작 메뉴를 검색하여 Windows 보안 앱을 열 수 있습니다.

2. App & **브라우저** 컨트롤 타일(또는 왼쪽 메뉴 표시줄의 앱 아이콘)을 선택한 다음 **Exploit Protection을 선택합니다.**

3. 프로그램 **설정으로 이동하여** 완화를 적용할 앱을 선택합니다.<br/>
    - 구성할 앱이 이미 나열되어 있는 경우 해당 앱을 선택하고 편집 을 **선택합니다.**
    - 앱이 목록에 없는 경우 목록 맨 위에  있는 프로그램 추가를 선택하여 사용자 지정한 다음 앱을 추가할 방법을 선택합니다.<br/>
     - 프로그램 **이름으로 추가를** 사용하여 해당 이름을 사용하여 실행 중인 모든 프로세스에 완화를 적용합니다. 확장명을 사용하여 파일을 지정해야 합니다. 전체 경로를 입력하여 완화를 해당 위치에 있는 해당 이름의 앱으로만 제한할 수 있습니다.
     - 정확한 **파일 경로 선택을** 사용하여 표준 Windows 탐색기 파일 선택기 창을 사용하여 원하는 파일을 찾아 선택합니다.

4. 앱을 선택하면 적용할 수 있는 모든 완화 목록이 표시됩니다. 감사를 **선택하면** 감사 모드에서만 완화가 적용됩니다. 프로세스 또는 앱을 다시 시작해야 하는 경우 또는 Windows를 다시 시작해야 하는 경우 알림을 하게 됩니다.

5. 구성할 모든 앱 및 완화에 대해 3-4단계를 반복합니다. 구성 **설정을** 완료하면 적용을 선택합니다.

## <a name="intune"></a>Intune

1. [Azure Portal에 로그인하고](https://portal.azure.com) Intune을 열 수 있습니다.

2. 장치 구성 **프로필**  >  **프로필**  >  **만들기로 이동하세요.**

3. 프로필 이름을 지정하고 **Windows 10 이상 및** 엔드포인트 보호 **를 선택하세요.**

   ![끝점 보호 프로필 만들기](/microsoft-365/security/defender-endpoint/images/create-endpoint-protection-profile)<br/>

4. Exploit   >  **Guard Exploit Protection Windows Defender**  >  **구성을 선택합니다.**

5. Exploit Protection 설정을 사용하여 [XML](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard) 파일을 업로드합니다.

   ![Intune에서 네트워크 보호 사용](/microsoft-365/security/defender-endpoint/images/enable-ep-intune)<br/>

6. **확인을** 선택하여 열려 있는 각 블레이드를 저장한 다음 만들기 를 **선택합니다.**

7. 프로필 할당 **탭을** 선택하고 모든 장치 및 모든 & 정책을 할당한 **다음 저장을** **선택합니다.**

## <a name="mdm"></a>MDM

[./Vendor/MSFT/Policy/Config/ExploitGuard/ExploitProtectionSettings](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard) CSP(구성 서비스 공급자)를 사용하여 Exploit Protection 완화를 활성화 또는 비활성화하거나 감사 모드를 사용할 수 있습니다.

## <a name="microsoft-endpoint-manager"></a>Microsoft Endpoint Manager

1. Microsoft 끝점 관리자에서 **끝점 보안 공격 표면**  >  **축소로 이동 합니다.** 

2. 정책 **플랫폼**  >  **만들기를 선택하고** **프로필에서** Exploit Protection **을 선택합니다.** 그런 다음 **만들기를 선택합니다.**

3. 이름과 설명을 지정하고 다음 을 **선택하십시오.**

4. **Select XML File(XML 파일 선택)을 선택하고** Exploit Protection XML 파일의 위치로 이동하십시오. 파일을 선택하고 다음 을 **선택합니다.**

5. 필요한 **경우 범위 태그** 및 **할당을** 구성합니다. 

6. 검토 **+ 만들기에서** 구성을 검토한 다음 만들기 를 **선택 합니다.**


## <a name="microsoft-endpoint-configuration-manager"></a>Microsoft Endpoint Configuration Manager

1. Microsoft Endpoint Configuration Manager에서 Exploit **Guard의** 자산 및 준수 끝점 보호  >    >  **Windows Defender 로 이동합니다.**

2. 홈 **Exploit**  >  **Guard 정책 만들기 를 선택합니다.**

3. 이름 및 설명을 지정하고 **Exploit Protection을** 선택한 후 다음 을 **선택합니다.**

4. Exploit Protection XML 파일의 위치로 이동하고 다음 을 **선택합니다.**

5. 설정을 검토하고 **다음을** 선택하면 정책을 만들 수 있습니다.

6. 정책을 만든 후 닫기 **를 선택합니다.**

## <a name="group-policy"></a>그룹 정책

1. 그룹 정책 관리 장치에서 그룹 정책 관리 콘솔을 [열고](https://technet.microsoft.com/library/cc731212.aspx)구성할 그룹 정책 개체를 마우스 오른쪽 단추로 클릭하고 편집을 **클릭합니다.**

2. 그룹 정책 **관리 편집기에서** 컴퓨터 **구성으로 이동하고** 관리 템플릿 **을 선택합니다.**

3. Exploit Guard Exploit Protection을 사용하여 **Windows** 구성 Windows Defender 확장 일반적인 Exploit Protection 설정  >    >    >  **집합을 사용합니다.**

4. 사용 **을** 선택하고 [XML](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-exploitguard)파일의 위치를 입력한 다음 확인 을 **선택합니다.**

## <a name="powershell"></a>PowerShell

PowerShell 동사 또는 `Get` `Set` cmdlet과 함께 사용할 수 `ProcessMitigation` 있습니다. 를 사용하면 장치에서 활성화된 모든 완화의 현재 구성 상태가 나열됩니다. `Get` cmdlet 및 앱 exe를 추가하여 해당 앱에 대한 완화를 `-Name` 확인합니다.

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> 구성되지 않은 시스템 수준 완화의 상태가 `NOTSET` 표시됩니다.
> - 시스템 수준 설정의 경우 해당 완화에 대한 기본 설정이 `NOTSET` 적용된 것입니다.
> - 앱 수준 설정의 경우 완화에 대한 시스템 수준 설정이 `NOTSET` 적용됩니다.
> 각 시스템 수준 완화에 대한 기본 설정은 Windows 보안에서 볼 수 있습니다.

각 완화를 다음과 같은 형식으로 `Set` 구성하는 데 사용할 수 있습니다.

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

여기서,

* \<Scope>:
  * `-Name` 완화를 특정 앱에 적용해야 한다고 나타냅니다. 이 플래그 다음에 앱의 실행을 지정합니다.
    * `-System` 완화가 시스템 수준에서 적용될 것임
* \<Action>:
  * `-Enable` 완화를 사용하도록 설정하려면
  * `-Disable` 완화를 사용하지 않도록 설정
* \<Mitigation>:
  * 완화의 cmdlet과 모든 하위options(공백으로 둘러싸인)입니다. 각 완화는 0으로 구분됩니다.

예를 들어 ATL unk 에뮬션을 사용하여 DEP(데이터 실행 방지) 완화를 사용하도록 설정하고 *C:\Apps\LOB\tests* *폴더의testing.exe* 라는 실행 파일에서 이 실행 파일을 만들어 자식 프로세스를 만들지 못하도록 방지하려면 다음 명령을 사용합니다.

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> 각 완화 옵션을 콤보로 구분합니다.

시스템 수준에서 DEP를 적용하고 싶은 경우 다음 명령을 사용하게 됩니다.

```PowerShell
Set-Processmitigation -System -Enable DEP
```

완화를 사용하지 않도록 설정하기 위해 를 로 바꿀 수 `-Enable` `-Disable` 있습니다. 그러나 앱 수준 완화의 경우 해당 앱에만 완화를 사용하지 않도록 설정됩니다.

완화를 시스템 기본값으로 복원해야 하는 경우 다음 예와 같이 `-Remove` cmdlet도 포함해야 합니다.

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

이 표에는 또는  cmdlet 매개 변수와 함께 사용할 개별 완화(및 사용 가능한 경우 `-Enable` `-Disable` 감사)가 나열됩니다.

| 완화 유형 | 적용 대상 | 완화 cmdlet 매개 변수 키워드 | 감사 모드 cmdlet 매개 변수 |
| :-------------- | :--------- | :---------------------------------- | :-------------------------- |
| CFG(제어 흐름 보호) | 시스템 및 앱 수준 |   `CFG`,   `StrictCFG`,   `SuppressExports`  | 감사를 사용할 수 없습니다. |
| DEP(데이터 실행 방지) | 시스템 및 앱 수준 |   `DEP`,   `EmulateAtlThunks`  | 감사를 사용할 수 없습니다. |
| 이미지에 대해 임의 지정 강제(필수 ASLR) | 시스템 및 앱 수준 |   `ForceRelocateImages`  | 감사를 사용할 수 없습니다. |
| 임의로 메모리 할당(상한 ASLR) | 시스템 및 앱 수준 |   `BottomUp`,   `HighEntropy`  | 감사를 사용할 수 없습니다.
| SEHOP(예외 체인) 유효성 검사 | 시스템 및 앱 수준 |   `SEHOP`,   `SEHOPTelemetry`  | 감사를 사용할 수 없습니다. |
| 힙 무결성 유효성 검사 | 시스템 및 앱 수준 |   `TerminateOnError`  | 감사를 사용할 수 없습니다. |
| ACG(임의 코드 보호) | 앱 수준만 |   `DynamicCode`  |   `AuditDynamicCode` |
| 낮은 무결성 이미지 차단 | 앱 수준만 |   `BlockLowLabel`  |   `AuditImageLoad` |
| 원격 이미지 차단 | 앱 수준만 |   `BlockRemoteImages`  | 감사를 사용할 수 없습니다. |
| 트러스터되지 않은 글꼴 차단 | 앱 수준만 |   `DisableNonSystemFonts`  |   `AuditFont`,   `FontAuditOnly` |
| 코드 무결성 보호 | 앱 수준만 |   `BlockNonMicrosoftSigned`,   `AllowStoreSigned`  |   AuditMicrosoftSigned, AuditStoreSigned |
| 확장 지점을 사용하지 않도록 설정 | 앱 수준만 |   `ExtensionPoint`  | 감사를 사용할 수 없습니다. |
| Win32k 시스템 호출을 사용하지 않도록 설정 | 앱 수준만 |   `DisableWin32kSystemCalls`  |   `AuditSystemCall` |
| 자식 프로세스 허용 안 하도록 허용 | 앱 수준만 |   `DisallowChildProcessCreation`  |   `AuditChildProcess` |
| EAF(주소 필터링 내보내기) | 앱 수준만 |   `EnableExportAddressFilterPlus`, `EnableExportAddressFilter` <a href="#r1" id="t1"> \[ 1 \] </a>   | 감사를 사용할 수<a href="#r2" id="t2"> \[ 없습니다 2 \] </a> |
| IAF(가져오기 주소 필터링) | 앱 수준만 |   `EnableImportAddressFilter`  | 감사를 사용할 수<a href="#r2" id="t2"> \[ 없습니다 2 \] </a> |
| 실행 시뮬레이트(SimExec) | 앱 수준만 |   `EnableRopSimExec`  | 감사를 사용할 수<a href="#r2" id="t2"> \[ 없습니다 2 \] </a> |
| API 호출 유효성 검사(CallerCheck) | 앱 수준만 |   `EnableRopCallerCheck`  | 감사를 사용할 수<a href="#r2" id="t2"> \[ 없습니다 2 \] </a> |
| 사용 현황 처리 유효성 검사 | 앱 수준만 |   `StrictHandle`  | 감사를 사용할 수 없습니다. |
| 이미지 종속성 무결성 유효성 검사 | 앱 수준만 |   `EnforceModuleDepencySigning`  | 감사를 사용할 수 없습니다. |
| 스택 무결성 유효성 검사(StackPivot) | 앱 수준만 |   `EnableRopStackPivot`  | 감사를 사용할 수<a href="#r2" id="t2"> \[ 없습니다 2 \] </a> |

<a href="#t1" id="r1"> \[ 1: \] </a>다음 형식을 사용하여 프로세스의 DLS에 대해 EAF 모듈을 사용하도록 설정할 수 있습니다.

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```
<a href="#t2" id="r2"> \[ 2: \] </a>이 완화에 대한 감사는 PowerShell cmdlet을 통해 사용할 수 없습니다.

## <a name="customize-the-notification"></a>알림 사용자 지정

규칙이 트리거 및 앱 또는 파일을 차단할 때 알림을 사용자 지정하는 자세한 내용은 [Windows](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center) 보안 문서를 참조하세요.

## <a name="see-also"></a>참고 항목

- [Exploit Protection 평가](evaluate-exploit-protection.md)
- [Exploit Protection 완화 구성 및 감사](customize-exploit-protection.md)
- [Exploit Protection 구성 가져오기, 내보내기 및 배포](import-export-exploit-protection-emet-xml.md)
