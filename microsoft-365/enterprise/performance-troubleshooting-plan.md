---
title: Office 365 성능 문제 해결 계획
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 5/10/2019
audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
f1.keywords:
- CSH
ms.custom:
- Adm_O365
- seo-marvel-apr2020
search.appverid:
- MET150
- MOE150
- BCS160
ms.assetid: e241e5d9-b1d8-4f1d-a5c8-4106b7325f8c
ms.collection:
- M365-security-compliance
- Ent_O365
description: 이 문서는 성능 문제의 Office 365 해결하고 가장 일반적인 몇 가지 문제를 해결하는 데 도움이 될 수 있습니다.
ms.openlocfilehash: 588a19e86d903a7ab709a7f0d0131da6e2a77f47
ms.sourcegitcommit: 27b2b2e5c41934b918cac2c171556c45e36661bf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/19/2021
ms.locfileid: "50928239"
---
# <a name="performance-troubleshooting-plan-for-office-365"></a><span data-ttu-id="1fad8-103">Office 365 성능 문제 해결 계획</span><span class="sxs-lookup"><span data-stu-id="1fad8-103">Performance troubleshooting plan for Office 365</span></span>

<span data-ttu-id="1fad8-104">SharePoint Online, 비즈니스용 OneDrive, Exchange Online 또는 비즈니스용 Skype Online 및 클라이언트 컴퓨터 간의 성능 저하, 중단 및 성능 저하를 식별하고 해결하기 위해 취할 단계를 알아야 하나요?</span><span class="sxs-lookup"><span data-stu-id="1fad8-104">Do you need to know the steps to take to identify and fix lags, hangs, and slow performance between SharePoint Online, OneDrive for Business, Exchange Online, or Skype for Business Online, and your client computer?</span></span> <span data-ttu-id="1fad8-105">지원에 문의하기 전에 이 문서는 성능 Office 365 해결하고 가장 일반적인 몇 가지 문제를 해결하는 데 도움이 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-105">Before you call support, this article can help you troubleshoot Office 365 performance issues and even fix some of the most common issues.</span></span>

<span data-ttu-id="1fad8-106">이 문서는 실제로 성능 문제와 관련한 중요한 데이터를 캡처하는 데 사용할 수 있는 예제 작업 계획입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-106">This article is actually a sample action plan that you can use to capture valuable data about your performance issue as it's happening.</span></span> <span data-ttu-id="1fad8-107">이 문서에는 몇 가지 가장 많은 문제도 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-107">Some top issues are also included in this article.</span></span>

<span data-ttu-id="1fad8-108">네트워크 성능을 처음 사용하며 클라이언트 컴퓨터와 컴퓨터 간의 성능을 모니터링하기 위한 장기적인 계획을 세우고 Office 365 관리자 및 IT Office 365 성능 조정 및 문제 [해결을 Pro.](performance-tuning-using-baselines-and-history.md)</span><span class="sxs-lookup"><span data-stu-id="1fad8-108">If you're new to network performance and want to make a long term plan to monitor performance between your client machines and Office 365, take a look at [Office 365 performance tuning and troubleshooting - Admin and IT Pro](performance-tuning-using-baselines-and-history.md).</span></span>

## <a name="sample-performance-troubleshooting-action-plan"></a><span data-ttu-id="1fad8-109">예제 성능 문제 해결 작업 계획</span><span class="sxs-lookup"><span data-stu-id="1fad8-109">Sample performance troubleshooting action plan</span></span>

<span data-ttu-id="1fad8-110">이 작업 계획에는 두 부분으로 구성됩니다. 준비 단계 및 로깅 단계</span><span class="sxs-lookup"><span data-stu-id="1fad8-110">This action plan contains two parts; a preparation phase, and a logging phase.</span></span> <span data-ttu-id="1fad8-111">지금 성능 문제가 발생하고 데이터 수집을 해야 하는 경우 이 계획을 바로 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-111">If you have a performance problem right now, and you need to do data collection, you can start using this plan right away.</span></span>

### <a name="prepare-the-client-computer"></a><span data-ttu-id="1fad8-112">클라이언트 컴퓨터 준비</span><span class="sxs-lookup"><span data-stu-id="1fad8-112">Prepare the client computer</span></span>

- <span data-ttu-id="1fad8-113">성능 문제를 재현할 수 있는 클라이언트 컴퓨터를 찾아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-113">Find a client computer that can reproduce the performance problem.</span></span> <span data-ttu-id="1fad8-114">이 컴퓨터는 문제 해결 중에 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-114">This computer will be used during the course of troubleshooting.</span></span>
- <span data-ttu-id="1fad8-115">테스트할 시간을 준비할 수 있도록 성능 문제가 발생하게 하는 단계를 적어 써야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-115">Write down the steps that cause the performance problem to happen so you're ready when it comes time to test.</span></span>
- <span data-ttu-id="1fad8-116">정보를 수집하고 기록하기 위한 도구를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-116">Install tools for gathering and recording information:</span></span>
  - <span data-ttu-id="1fad8-117">[Netmon 3.4를 설치하거나](https://www.microsoft.com/download/details.aspx?id=4865) 동등한 네트워크 추적 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-117">Install [Netmon 3.4](https://www.microsoft.com/download/details.aspx?id=4865) (or use an equivalent network tracing tool).</span></span>
  - <span data-ttu-id="1fad8-118">무료 Basic Edition [HTTPWatch를 설치하거나](https://www.httpwatch.com/download/) 동등한 네트워크 추적 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-118">Install the free Basic Edition of [HTTPWatch](https://www.httpwatch.com/download/) (or use an equivalent network Tracing tool).</span></span>
  - <span data-ttu-id="1fad8-119">테스트하는 동안 수행한 단계의 기록을 보관하기 위해 PSR.exe Vista 이상에 제공된 단계 레코더(PSR.exe Windows)를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-119">Use a screen recorder or run the Steps Recorder (PSR.exe) that comes with Windows Vista and later, in order to keep a record of the steps you take during testing.</span></span>

### <a name="log-the-performance-issue"></a><span data-ttu-id="1fad8-120">성능 문제 기록</span><span class="sxs-lookup"><span data-stu-id="1fad8-120">Log the performance issue</span></span>

- <span data-ttu-id="1fad8-121">모든 추가 인터넷 브라우저를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-121">Close all extraneous Internet browsers.</span></span>
- <span data-ttu-id="1fad8-122">단계 레코더 또는 다른 화면 레코더를 시작하십시오.</span><span class="sxs-lookup"><span data-stu-id="1fad8-122">Start the Steps Recorder, or another screen recorder.</span></span>
- <span data-ttu-id="1fad8-123">Netmon 캡처(또는 네트워크 추적 도구)를 시작하세요.</span><span class="sxs-lookup"><span data-stu-id="1fad8-123">Start your Netmon capture (or network tracing tool).</span></span>
- <span data-ttu-id="1fad8-124">ipconfig /flushdns를 입력하여 명령줄에서 클라이언트 컴퓨터에서 DNS 캐시를 지워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-124">Clear your DNS cache on the client computer from the command line by typing ipconfig /flushdns.</span></span>
- <span data-ttu-id="1fad8-125">새 브라우저 세션을 시작하고 HTTPWatch를 켜야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-125">Start a new browser session and turn on HTTPWatch.</span></span>
- <span data-ttu-id="1fad8-126">선택 사항: 테스트 Exchange Online 클라이언트 Exchange 콘솔에서 Office 365 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-126">Optional: If you are testing Exchange Online, run the Exchange Client Performance Analyzer tool from the Office 365 admin console.</span></span>
- <span data-ttu-id="1fad8-127">성능 문제를 일으키는 정확한 단계를 재현합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-127">Reproduce the exact steps that cause the performance issue.</span></span>
- <span data-ttu-id="1fad8-128">Netmon 또는 기타 도구의 추적을 중지합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-128">Stop your Netmon or other tool's trace.</span></span>
- <span data-ttu-id="1fad8-129">명령줄에서 다음 명령을 입력하고 enter를 눌러 Office 365 구독에 대한 추적 경로를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-129">At the command line, run a trace route to your Office 365 subscription by typing the following command and then pressing ENTER:</span></span>

  ``` cmd
  tracert <subscriptionname>.onmicrosoft.com
  ```

- <span data-ttu-id="1fad8-130">단계 레코더를 중지하고 비디오를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-130">Stop the Steps Recorder and save the video.</span></span> <span data-ttu-id="1fad8-131">캡처 날짜 및 시간 및 캡처가 좋은 성능을 보여줄지 또는 좋지 않은 성능을 보여줄지 여부를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-131">Be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>
- <span data-ttu-id="1fad8-132">추적 파일을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-132">Save the trace files.</span></span> <span data-ttu-id="1fad8-133">또한 캡처 날짜 및 시간 및 성능이 좋은지 또는 좋지 않은지 여부를 포함해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-133">Again, be sure to include the date and time of the capture and whether it demonstrates good or bad performance.</span></span>

<span data-ttu-id="1fad8-134">이 문서에 언급된 도구를 실행하는 데 익숙하지 않은 경우 다음에 이러한 단계를 제공하기 때문에 걱정하지 마세요.</span><span class="sxs-lookup"><span data-stu-id="1fad8-134">If you're not familiar with running the tools mentioned in this article, don't worry because we provide those steps next.</span></span> <span data-ttu-id="1fad8-135">이러한 종류의 네트워크 캡처를 하는 데 익숙한 경우 필터링 및 [](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines)로그 읽기에 대해 설명하는 기준을 수집하는 방법으로 건너뛸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-135">If you're accustomed to doing this kind of network capturing, you can skip to [How to collect baselines](performance-tuning-using-baselines-and-history.md#how-to-collect-baselines), which describes filtering and reading the logs.</span></span>

### <a name="flush-the-dns-cache-first"></a><span data-ttu-id="1fad8-136">먼저 DNS 캐시 플러시</span><span class="sxs-lookup"><span data-stu-id="1fad8-136">Flush the DNS Cache first</span></span>

<span data-ttu-id="1fad8-137">이유</span><span class="sxs-lookup"><span data-stu-id="1fad8-137">Why?</span></span> <span data-ttu-id="1fad8-138">DNS 캐시를 플러시하여 클린 슬레이트로 테스트를 시작하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-138">By flushing out the DNS cache you're starting your tests with a clean slate.</span></span> <span data-ttu-id="1fad8-139">캐시를 지우면 DNS 확인자 콘텐츠를 최신 항목으로 다시 설정하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-139">By clearing the cache, you're resetting the DNS resolver contents to the most up-to-date entries.</span></span> <span data-ttu-id="1fad8-140">플러시는 HOSTS 파일 항목을 제거하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-140">Remember that a flush does not remove HOSTs file entries.</span></span> <span data-ttu-id="1fad8-141">HOST 파일 항목을 광범위하게 사용하는 경우 해당 항목을 다른 디렉터리의 파일에 복사한 다음 HOST 파일을 비워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-141">If you use HOST file entries extensively, you should copy those entries out to a file in another directory and then empty the HOST file.</span></span>

#### <a name="flush-your-dns-resolver-cache"></a><span data-ttu-id="1fad8-142">DNS 확인자 캐시 플러시</span><span class="sxs-lookup"><span data-stu-id="1fad8-142">Flush your DNS resolver cache</span></span>

1. <span data-ttu-id="1fad8-143">명령 프롬프트(Start  Run cmd 또는 Windows \>  \> **cmd)를**  \> **열 수 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-143">Open the command prompt, (either **Start** \> **Run** \> **cmd** or **Windows key** \> **cmd**).</span></span>
2. <span data-ttu-id="1fad8-144">다음 명령을 입력한 후 Enter 키를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-144">Type the following command and press ENTER:</span></span>

    ``` cmd
    ipconfig /flushdns
    ```

## <a name="netmon"></a><span data-ttu-id="1fad8-145">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-145">Netmon</span></span>

<span data-ttu-id="1fad8-146">Microsoft의 네트워크 모니터링[도구(Netmon)는](https://www.microsoft.com/download/details.aspx?id=4865)네트워크의 컴퓨터 간에 전달되는 트래픽인 패킷을 분석합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-146">Microsoft's Network Monitoring tool ([Netmon](https://www.microsoft.com/download/details.aspx?id=4865)) analyzes packets, that is traffic, that passes between computers on networks.</span></span> <span data-ttu-id="1fad8-147">Netmon을 사용하여 트래픽을 추적할 수 Office 365 패킷 헤더를 캡처, 보기 및 읽고, 중간 장치를 식별하고, 네트워크 하드웨어의 중요 설정을 확인하고, 손실된 패킷을 찾아 회사 네트워크 및 네트워크의 컴퓨터 간 트래픽 흐름을 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-147">By using Netmon to trace traffic with Office 365 you can capture, view, and read packet headers, identify intervening devices, check important settings on network hardware, look for dropped packets, and follow the flow of traffic between computers on your corporate network and Office 365.</span></span> <span data-ttu-id="1fad8-148">트래픽의 실제 본문이 암호화되어 있기 때문에(SSL/TLS를 통해 포트 443을 이동하는 경우 전송되는 파일을 읽을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-148">Because the actual body of the traffic is encrypted, that is, it(travels on port 443 via SSL/TLS, you can't read the files being sent.</span></span> <span data-ttu-id="1fad8-149">대신 패킷이 걸리는 경로의 필터되지 않은 추적을 얻게 되어 문제 동작을 추적하는 데 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-149">Instead, you get an unfiltered trace of the path that the packet takes which can help you track down the problem behavior.</span></span>

<span data-ttu-id="1fad8-150">이때 필터를 적용하지 말아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-150">Be sure you don't apply a filter at this time.</span></span> <span data-ttu-id="1fad8-151">대신 단계를 실행하여 추적을 중지하고 저장하기 전에 문제를 보여 주십시오.</span><span class="sxs-lookup"><span data-stu-id="1fad8-151">Instead, run through the steps and demonstrate the problem before stopping the trace and saving.</span></span>

<span data-ttu-id="1fad8-152">Netmon 3.4를 설치한 후 도구를 열고 다음 단계를 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-152">After you install Netmon 3.4, open the tool and take these steps:</span></span>

### <a name="take-a-netmon-trace-and-reproduce-the-issue"></a><span data-ttu-id="1fad8-153">Netmon 추적을 사용 하 고 문제를 재현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-153">Take a Netmon trace and reproduce the issue</span></span>

1. <span data-ttu-id="1fad8-154">Netmon 3.4를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-154">Launch Netmon 3.4.</span></span>
<span data-ttu-id="1fad8-155">시작 페이지에는 최근  **캡처,** 네트워크 선택 및 Microsoft 네트워크 모니터 3.4 시작의 세 개의 창이 **있습니다. 을(를) 알 수**</span><span class="sxs-lookup"><span data-stu-id="1fad8-155">There are three panes on the **Start** page: **Recent Captures**, **Select Networks**, and the **Getting Started with Microsoft Network Monitor 3.4. Notice**.</span></span> <span data-ttu-id="1fad8-156">네트워크 선택 패널에는 캡처할 수 있는 기본 네트워크 목록도 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-156">The Select Networks panel will also give you a list of the default networks from which you can capture.</span></span> <span data-ttu-id="1fad8-157">여기에서 네트워크 카드가 선택되어 있는지 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-157">Be sure that network cards are selected here.</span></span>

2. <span data-ttu-id="1fad8-158">시작 **페이지 위쪽에서** 새 **캡처를** 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-158">Click **New Capture** at the top of the **Start** page.</span></span> <span data-ttu-id="1fad8-159">그러면 Capture 1이라는  시작 페이지 탭 옆에 새 **탭이 추가됩니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-159">This adds a new tab beside the **Start** page tab called **Capture 1**.</span></span>
<span data-ttu-id="1fad8-160">![새 캡처, 시작 및 중지 단추가 강조 표시된 Netmon의 사용자 인터페이스입니다.](../media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span><span class="sxs-lookup"><span data-stu-id="1fad8-160">![Netmon's user interface with the New Capture, Start, and Stop buttons highlighted.](../media/d4527d84-62ec-4301-82d5-e0166ff71f20.PNG)</span></span>

3. <span data-ttu-id="1fad8-161">간단한 캡처를 사용하려면 **도구** 모음에서 시작을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-161">To take a simple capture, click **Start** on the toolbar.</span></span>

4. <span data-ttu-id="1fad8-162">성능 문제가 있는 단계를 재현합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-162">Reproduce the steps that present a performance issue.</span></span>

5. <span data-ttu-id="1fad8-163">파일 **다른 로** \> **저장** \> **중지를 클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-163">Click **Stop** \> **File** \> **Save As**.</span></span> <span data-ttu-id="1fad8-164">표준 시간대를 통해 날짜와 시간을 주고 성능이 나쁘거나 양호한지 언급해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-164">Remember to give the date and time with the time zone and to mention if it demonstrates bad or good performance.</span></span>

## <a name="httpwatch"></a><span data-ttu-id="1fad8-165">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="1fad8-165">HTTPWatch</span></span>

<span data-ttu-id="1fad8-166">[HTTPWatch는](https://www.httpwatch.com/download/) 요금이 청구되고 무료 버전이 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-166">[HTTPWatch](https://www.httpwatch.com/download/) comes in charged, and a free edition.</span></span> <span data-ttu-id="1fad8-167">무료 Basic Edition은 이 테스트에 필요한 모든 것을 다합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-167">The free Basic Edition covers everything you need for this test.</span></span> <span data-ttu-id="1fad8-168">HTTPWatch는 브라우저 창에서 네트워크 트래픽 및 페이지 로드 시간을 바로 모니터링합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-168">HTTPWatch monitors network traffic and page load time right from your browser window.</span></span> <span data-ttu-id="1fad8-169">HTTPWatch는 성능을 그래픽으로 Internet Explorer 플러그 인입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-169">HTTPWatch is a plug-in to Internet Explorer that graphically describes performance.</span></span> <span data-ttu-id="1fad8-170">분석은 HTTPWatch Studio에서 저장하고 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-170">The analysis can be saved and viewed in HTTPWatch Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="1fad8-171">Firefox, Google Chrome 등의 다른 브라우저를 사용하는 경우 또는 브라우저에 HTTPWatch를 설치할 수 Internet Explorer 새 브라우저 창을 열고 키보드에서 F12를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-171">If you use another browser, such as Firefox, Google Chrome, or if you can't install HTTPWatch in Internet Explorer, open a new browser window and press F12 on your keyboard.</span></span> <span data-ttu-id="1fad8-172">브라우저 아래쪽에 개발자 도구 팝업이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-172">You should see the Developer Tool pop-up at the bottom of your browser.</span></span> <span data-ttu-id="1fad8-173">Opera를 사용하는 경우 웹 검사기에서 Ctrl+Shift+I를  누르고 네트워크 탭을 클릭하고 아래에 설명된 테스트를 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-173">If you use Opera, press CTRL+SHIFT+I for Web Inspector, then click the **Network** tab and complete the testing outlined below.</span></span> <span data-ttu-id="1fad8-174">정보가 약간 다르지만 로드 시간은 밀리초로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-174">The information will be slightly different, but load times will still be displayed in milliseconds.</span></span> <span data-ttu-id="1fad8-175">> HTTPWatch는 온라인 페이지 로드 SharePoint 매우 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-175">> HTTPWatch is also very useful for issues with SharePoint Online page load times.</span></span>

### <a name="run-httpwatch-and-reproduce-the-issue"></a><span data-ttu-id="1fad8-176">HTTPWatch를 실행하고 문제를 재현합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-176">Run HTTPWatch and reproduce the issue</span></span>

<span data-ttu-id="1fad8-177">HTTPWatch는 브라우저 플러그 인이기 때문에 브라우저에 도구를 표시하는 것은 각 브라우저 버전마다 약간 Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="1fad8-177">HTTPWatch is a browser plug-in, so exposing the tool in the browser is slightly different for each version of Internet Explorer.</span></span> <span data-ttu-id="1fad8-178">일반적으로 HTTPWatch는 브라우저의 명령 표시줄에서 Internet Explorer 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-178">Typically, you can find HTTPWatch under the Commands bar in the Internet Explorer browser.</span></span> <span data-ttu-id="1fad8-179">브라우저 창에 HTTPWatch 플러그 인이 없는 경우 도움말을 클릭하여 브라우저 버전을  확인하거나 이후 버전의 Internet Explorer 에서 기어 기호 및 \>  **Internet Explorer.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-179">If you don't see the HTTPWatch plug-in in your browser window, check the version of your browser by clicking **Help** \> **About**, or in later versions of Internet Explorer, click the gear symbol and **About Internet Explorer**.</span></span> <span data-ttu-id="1fad8-180">명령 **표시줄을 시작하려면** 명령 표시줄에서 메뉴 Internet Explorer 마우스 오른쪽 **단추로 클릭하고 명령 표시줄을 클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-180">To launch the **Commands** bar, right-click the menu bar in Internet Explorer and click **Commands bar**.</span></span>

<span data-ttu-id="1fad8-181">과거에는 HTTPWatch가 명령 및 탐색기 모음에 모두 연결되어 있으므로 설치한 후 아이콘이 즉시 표시되지 않는 경우(다시 시작한 후에도) 도구 및 아이콘에 대한 도구 모음을 선택하십시오.</span><span class="sxs-lookup"><span data-stu-id="1fad8-181">In the past, HTTPWatch has been associated with both the Commands and the Explorer bars, so once you install, if you don't immediately see the icon (even after reboot) check **Tools**, and your toolbars for the icon.</span></span> <span data-ttu-id="1fad8-182">도구 모음을 사용자 지정하고 옵션을 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-182">Remember that toolbars can be customized and options can be added to them.</span></span>

![Internet Explorer 명령 도구 모음에 HTTPWatch 아이콘이 표시됩니다.](../media/198590b0-d7b1-4bff-a6ad-e4ec3a1e83df.png)

1. <span data-ttu-id="1fad8-184">브라우저 창에서 HTTPWatch를 Internet Explorer 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-184">Launch HTTPWatch in an Internet Explorer browser window.</span></span> <span data-ttu-id="1fad8-185">이 창의 아래쪽에 브라우저에 고정된 것으로 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-185">It will appear docked to the browser at the bottom of that window.</span></span> <span data-ttu-id="1fad8-186">레코드 **를 클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-186">Click **Record**.</span></span>

2. <span data-ttu-id="1fad8-187">성능 문제와 관련된 정확한 단계를 재현합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-187">Reproduce the exact steps involved in the performance issue.</span></span> <span data-ttu-id="1fad8-188">**HTTPWatch에서 중지** 단추를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-188">Click the **Stop** button in HTTPWatch.</span></span>

3. <span data-ttu-id="1fad8-189">HTTPWatch **또는** **전자 메일로 보내기 를 저장합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-189">**Save** the HTTPWatch or **Send by Email**.</span></span> <span data-ttu-id="1fad8-190">날짜 및 시간 정보를 포함하며 Watch에 좋은 성능 또는 좋지 않은 성능의 데모가 포함되어 있는지 여부를 표시하기 위해 파일의 이름을 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-190">Remember to name the file so that it includes date and time information and an indication of whether your Watch contains a demonstration of good or bad performance.</span></span>

![Office 365 홈페이지의 페이지 로드에 대한 네트워크 탭을 보여 주는 HTTPWatch입니다.](../media/021a2c64-d581-49fd-adf4-4c364f589d75.PNG)

<span data-ttu-id="1fad8-192">이 스크린샷은 HTTPWatch의 Professional 버전입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-192">This screen shot is from the Professional version of HTTPWatch.</span></span> <span data-ttu-id="1fad8-193">기본 버전에서 찍은 추적을 컴퓨터의 기본 버전으로 열고 Professional 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-193">You can open traces taken in the Basic Version on a computer with a Professional version and read it there.</span></span> <span data-ttu-id="1fad8-194">해당 메서드를 통해 추적에서 추가 정보를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-194">Extra information may be available from the trace through that method.</span></span>

## <a name="problem-steps-recorder"></a><span data-ttu-id="1fad8-195">문제 단계 레코더</span><span class="sxs-lookup"><span data-stu-id="1fad8-195">Problem Steps Recorder</span></span>

<span data-ttu-id="1fad8-196">단계 레코더 또는 PSR.exe 발생하는 문제를 기록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-196">Steps Recorder, or PSR.exe, allows you to record issues as they are occurring.</span></span> <span data-ttu-id="1fad8-197">매우 유용한 도구로, 실행이 매우 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-197">It's a very useful tool and very simple to run.</span></span>

### <a name="run-problem-steps-recorder-psrexe-to-record-your-work"></a><span data-ttu-id="1fad8-198">문제 단계 레코더(PSR.exe)를 실행하여 작업을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-198">Run Problem Steps Recorder (PSR.exe) to record your work</span></span>

1. <span data-ttu-id="1fad8-199">시작 **실행** 형식을PSR.exe확인을 클릭하거나, Windows 키 형식을 클릭한PSR.exe\>  \> Enter 키를  \>   \>  \> 누르고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-199">Either use **Start** \> **Run** \> type **PSR.exe** \> **OK**, or, click the **Windows Key** \> type **PSR.exe** \> and then press ENTER.</span></span>

2. <span data-ttu-id="1fad8-200">작은 PSR.exe 창이 나타나면 레코드  시작을 클릭하고 성능 문제를 재현하는 단계를 재현합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-200">When the small PSR.exe window appears, click **Start Record** and reproduce the steps that reproduce the performance issue.</span></span> <span data-ttu-id="1fad8-201">설명 추가를 클릭하여 필요한 경우 설명을 **추가할 수 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-201">You can add comments as needed, by clicking **Add Comments**.</span></span>

3. <span data-ttu-id="1fad8-202">단계를 **완료하면** 레코드 중지를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-202">Click **Stop Record** when you have completed the steps.</span></span> <span data-ttu-id="1fad8-203">성능 문제가 페이지 렌더링인 경우 기록을 중지하기 전에 페이지가 렌더링될 때까지 기다렸다가 렌더링합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-203">If the performance issue is a page render, wait for the page to render before you stop the recording.</span></span>

4. <span data-ttu-id="1fad8-204">**저장** 을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-204">Click **Save**.</span></span>

![단계 레코더 또는 스크린샷은 PSR.exe.](../media/8542b0aa-a3ff-4718-8dc4-43f5521c6c34.PNG)

<span data-ttu-id="1fad8-206">날짜 및 시간이 기록됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-206">The date and time is recorded for you.</span></span> <span data-ttu-id="1fad8-207">이렇게 하면 PSR이 Netmon 추적 및 HTTPWatch에 제시간에 연결되고 정밀도 문제 해결에 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-207">This links your PSR to your Netmon trace and HTTPWatch in time, and helps with precision troubleshooting.</span></span> <span data-ttu-id="1fad8-208">PSR 레코드의 날짜 및 시간은 예를 들어 URL의 로그인 및 검색과 관리 사이트의 부분 렌더링 간에 1분이 전달된 것으로 표시될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-208">The date and time in the PSR record can show that a minute passed between the login and browsing of the URL and the partial render of the admin site, for example.</span></span>

## <a name="read-your-traces"></a><span data-ttu-id="1fad8-209">추적 읽기</span><span class="sxs-lookup"><span data-stu-id="1fad8-209">Read your traces</span></span>

<span data-ttu-id="1fad8-210">누군가가 문서를 통해 알아야 하는 네트워크 및 성능 문제 해결에 대한 모든 정보를 설명할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-210">It isn't possible to teach everything about network and performance troubleshooting that someone would need to know via an article.</span></span> <span data-ttu-id="1fad8-211">성능을 능가하는 데는 경험과 네트워크의 작동 방식과 일반적으로 수행에 대한 지식이 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-211">Getting good at performance takes experience, and knowledge of how your network works and usually performs.</span></span> <span data-ttu-id="1fad8-212">그러나 가장 일반적인 문제 목록을 나열하고 도구를 통해 가장 일반적인 문제를 쉽게 제거할 수 있는 방법을 보여 주어도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-212">But it is possible to round up a list of top issues and show how tools can make it easier for you to eliminate the most common problems.</span></span>

<span data-ttu-id="1fad8-213">Office 365 사이트의 네트워크 추적을 읽는 기술을 선택하려는 경우 페이지 로드 추적을 정기적으로 만들고 이를 읽는 경험을 얻는 것보다 더 나은 교사가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-213">If you want to pick up skills reading network traces for your Office 365 sites, there is no better teacher than creating traces of page loads regularly and gaining experience reading them.</span></span> <span data-ttu-id="1fad8-214">예를 들어, 기회가 있는 경우 서비스 Office 365 로드하고 프로세스를 추적합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-214">For example, when you have a chance, load an Office 365 service and trace the process.</span></span> <span data-ttu-id="1fad8-215">DNS 트래픽에 대한 추적을 필터링하거나 FrameData에서 검색한 서비스의 이름을 검색합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-215">Filter the trace for DNS traffic, or search the FrameData for the name of the service you browsed.</span></span> <span data-ttu-id="1fad8-216">추적을 검사하여 서비스가 로드될 때 발생하는 단계를 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-216">Scan the trace to get an idea of the steps that occur when the service loads.</span></span> <span data-ttu-id="1fad8-217">이렇게 하면 정상적인 페이지 로드의 모양을 알 수 있으며, 문제 해결의 경우 특히 성능과 관련한 좋지 않은 추적과 좋은 비교를 통해 많은 정보를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-217">This will help you learn what normal page load should look like, and in the case of troubleshooting, particularly around performance, comparing good to bad traces can teach you a lot.</span></span>

<span data-ttu-id="1fad8-218">Netmon은 표시 필터 필드에 Microsoft Intellisense를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-218">Netmon uses Microsoft Intellisense in the Display filter field.</span></span> <span data-ttu-id="1fad8-219">Intellisense 또는 지능형 코드 완료는 기간에 입력하고 사용 가능한 모든 옵션이 드롭다운 선택 상자에 표시되는 트릭입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-219">Intellisense, or intelligent code completion, is that trick where you type in a period and all available options are displayed in a drop-down selection box.</span></span> <span data-ttu-id="1fad8-220">예를 들어 TCP 창 크기 조정이 걱정되는 경우 이를 통해 필터(예: )를 찾을  `.protocol.tcp.window < 100` 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-220">If, for example, you are worried about TCP window scaling, you can find your way to a filter (such as  `.protocol.tcp.window < 100`) by this means.</span></span>

![표시 필터 필드가 intellisense를 사용하는 Netmon의 스크린샷입니다.](../media/75a56c11-9a60-47ee-a100-aabdfb1ba10f.PNG)

<span data-ttu-id="1fad8-222">Netmon 추적에는 트래픽이 많이 남을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-222">Netmon traces can have a lot of traffic in them.</span></span> <span data-ttu-id="1fad8-223">읽는 경험이 없는 경우 처음에 추적을 여는 것이 부담스러웠을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-223">If you aren't experienced with reading them, it's likely you will be overwhelmed opening the trace the first time.</span></span> <span data-ttu-id="1fad8-224">가장 먼저 해야 할 일은 추적의 백그라운드 노이즈와 신호를 분리하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-224">The first thing to do is separate the signal from the background noise in the trace.</span></span> <span data-ttu-id="1fad8-225">사용자에 대해 Office 365 테스트했습니다. 이 트래픽이 표시하려는 트래픽입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-225">You tested against Office 365, and that's the traffic you want to see.</span></span> <span data-ttu-id="1fad8-226">추적을 사용하는 경우 이 목록이 필요하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-226">If you are used to navigating through traces, you may not need this list.</span></span>

<span data-ttu-id="1fad8-227">클라이언트와 Office 365 트래픽은 TLS를 통해 이동하며, 이는 트래픽 본문이 암호화되고 일반 Netmon 추적에서 읽을 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-227">Traffic between your client and Office 365 travels via TLS, which means that the body of the traffic will be encrypted and not readable in a generic Netmon trace.</span></span> <span data-ttu-id="1fad8-228">성능 분석에서는 패킷에 있는 정보의 구체적인 정보를 알 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-228">Your performance analysis doesn't need to know the specifics of the information in the packet.</span></span> <span data-ttu-id="1fad8-229">그러나 패킷 헤더와 패킷에 포함된 정보에는 매우 관심이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-229">It is, however, very interested in packet headers and the information that they contain.</span></span>

### <a name="tips-to-get-a-good-trace"></a><span data-ttu-id="1fad8-230">팁 좋은 추적을 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-230">Tips to get a good trace</span></span>

- <span data-ttu-id="1fad8-231">클라이언트 컴퓨터의 IPv4 또는 IPv6 주소 값을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-231">Know the value of the IPv4 or IPv6 address of your client computer.</span></span> <span data-ttu-id="1fad8-232">**IPConfig를** 입력한 다음 Enter를 눌러 명령 프롬프트에서 이를 얻을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-232">You can get this from the command prompt by typing **IPConfig** and then pressing ENTER.</span></span> <span data-ttu-id="1fad8-233">이 주소를 알면 추적의 트래픽이 클라이언트 컴퓨터와 직접 관련된지 여부를 한눈에 알 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-233">Knowing this address will let you tell at a glance whether the traffic in the trace directly involves your client computer.</span></span> <span data-ttu-id="1fad8-234">알려진 프록시가 있는 경우 프록시를 ping하고 해당 IP 주소도 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-234">If there is a known proxy, ping it and get its IP address as well.</span></span>

- <span data-ttu-id="1fad8-235">DNS 확인자 캐시를 플러시하고 가능한 경우 테스트를 실행하는 브라우저를 제외한 모든 브라우저를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-235">Flush your DNS resolver cache and, if possible, close all browsers except the one in which you are running your tests.</span></span> <span data-ttu-id="1fad8-236">예를 들어 지원에서 일부 브라우저 기반 도구를 사용하여 클라이언트 컴퓨터의 데스크톱을 보는 경우 추적 필터링을 준비해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-236">If you are not able to do this, for instance, if support is using some browser-based tool to see your client computer's desktop, be prepared to filter your trace.</span></span>

- <span data-ttu-id="1fad8-237">사용 중 추적에서 사용 Office 365 서비스를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-237">In a busy trace, locate the Office 365 service that you're using.</span></span> <span data-ttu-id="1fad8-238">이전까지 트래픽을 확인하거나 확인하지 않는 경우 이 단계는 성능 문제를 다른 네트워크 노이즈와 구분하는 데 도움이 되는 단계입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-238">If you've never or seldom seen your traffic before, this is a helpful step in separating the performance issue from other network noise.</span></span> <span data-ttu-id="1fad8-239">몇 가지 방법으로 이 작업을 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-239">There are a few ways to do this.</span></span> <span data-ttu-id="1fad8-240">테스트 직전에 특정 서비스의 URL(또는 예: _)에 대해 ping_ 또는 _PsPing을_ 사용할 `ping outlook.office365.com` 수 `psping -4 microsoft-my.sharepoint.com:443` 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-240">Directly before your test, you can use _ping_ or _PsPing_ against the URL of the specific service (`ping outlook.office365.com` or `psping -4 microsoft-my.sharepoint.com:443`, for example).</span></span> <span data-ttu-id="1fad8-241">또한 Netmon 추적에서 프로세스 이름으로 해당 ping 또는 PsPing을 쉽게 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-241">You can also easily find that ping or PsPing in a Netmon trace (by its process name).</span></span> <span data-ttu-id="1fad8-242">이를 통해 찾고 시작할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-242">That will give you a place to start looking.</span></span>

<span data-ttu-id="1fad8-243">문제 당시 Netmon 추적만 사용 중이면 괜찮습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-243">If you're only using Netmon tracing at the time of the problem, that's okay too.</span></span> <span data-ttu-id="1fad8-244">자신의 방향을 설정하기 위해 또는 처럼 필터를 `ContainsBin(FrameData, ASCII, "office")` `ContainsBin(FrameData, ASCII, "outlook")` 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="1fad8-244">To orient yourself, use a filter like `ContainsBin(FrameData, ASCII, "office")` or `ContainsBin(FrameData, ASCII, "outlook")`.</span></span> <span data-ttu-id="1fad8-245">추적 파일에서 프레임 번호를 기록할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-245">You can record your frame number from the trace file.</span></span> <span data-ttu-id="1fad8-246">프레임 요약 창을  오른쪽으로 스크롤하고 대화 ID 열을 찾아야 할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-246">You may also want to scroll the _Frame Summary_ pane all the way to the right and look for the Conversation ID column.</span></span> <span data-ttu-id="1fad8-247">이 특정 대화의 ID에 대해 표시된 번호가 있으며 나중에 을(를) 녹음하고 나중에 봐도 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-247">There is a number indicated there for the ID of this specific conversation that you can also record and look at in isolation later.</span></span> <span data-ttu-id="1fad8-248">다른 필터링을 적용하기 전에 이 필터를 제거해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-248">Remember to remove this filter before applying any other filtering.</span></span>

> [!TIP]
> <span data-ttu-id="1fad8-249">Netmon에는 많은 유용한 기본 제공 필터가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-249">Netmon has a lot of helpful built-in filters.</span></span> <span data-ttu-id="1fad8-250">표시 필터 **창의** 맨 위에 있는 필터 로드 _단추를_ 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-250">Try the **Load Filter** button at the top of the _Display_ filter pane.</span></span>

![클라이언트 컴퓨터의 명령줄에서 PSPing을 사용하여 IP를 찾을 수 있습니다.](../media/4c43ac67-e28e-4536-842d-7add7aa28847.PNG)

![필터 TCP를 통해 동일한 PSPing 명령을 표시하는 클라이언트의 Netmon 추적입니다. Flags.Syn == 1.](../media/0ae7ef7d-e003-4d01-a006-dc49bd1fcef2.PNG)

<span data-ttu-id="1fad8-253&quot;>트래픽에 익숙해지고 필요한 정보를 찾는 방법을 배워야 합니다.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;1fad8-253&quot;>Get familiar with your traffic, and learn to locate the information you need.</span></span> <span data-ttu-id=&quot;1fad8-254&quot;>예를 들어 추적의 패킷에 사용 중이던 Office 365(예: &quot;Outlook")에 대한 참조가 있는지 확인하는 방법을 배워야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-254">For example, learn to determine which packet in the trace has the first reference to the Office 365 service you're using (like "Outlook").</span></span>

<span data-ttu-id="1fad8-255">온라인 Office 365 Outlook 경우 트래픽은 다음과 같이 시작됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-255">Taking Office 365 Outlook Online as an example, the traffic begins something like this:</span></span>

- <span data-ttu-id="1fad8-256">일치하는 QueryID가 outlook.office365.com DNS 표준 쿼리 및 DNS 응답입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-256">DNS Standard Query and DNS Response for outlook.office365.com with matching QueryIDs.</span></span> <span data-ttu-id="1fad8-257">이 회전에 대한 시간 오프셋과 전 세계 Office 365 전역 DNS에서 이름 확인 요청을 보내는 위치를 유의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-257">It's important to note the time offset for this turn-around, as well as where in the world the Office 365 Global DNS sends the request for name resolution.</span></span> <span data-ttu-id="1fad8-258">이상적으로, 전 세계가 아니라 가능한 한 로컬로.</span><span class="sxs-lookup"><span data-stu-id="1fad8-258">Ideally, as locally as possible, rather than halfway across the world.</span></span>

- <span data-ttu-id="1fad8-259">상황 보고서가 영구적으로 이동된 HTTP GET 요청(301)</span><span class="sxs-lookup"><span data-stu-id="1fad8-259">A HTTP GET Request whose status report Moved Permanently (301)</span></span>

- <span data-ttu-id="1fad8-260">RWS를 비롯한 RWS 커넥트 요청 및 커넥트 트래픽입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-260">RWS Traffic including RWS Connect requests and Connect replies.</span></span> <span data-ttu-id="1fad8-261">(원격 Winsock에서 연결을 만드는 것입니다.)</span><span class="sxs-lookup"><span data-stu-id="1fad8-261">(This is Remote Winsock making a connection for you.)</span></span>

- <span data-ttu-id="1fad8-262">TCP SYN 및 TCP SYN/ACK 대화입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-262">A TCP SYN and TCP SYN/ACK conversation.</span></span> <span data-ttu-id="1fad8-263">이 대화의 많은 설정이 성능에 영향을 미치게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-263">A lot of the settings in this conversation impact your performance.</span></span>

- <span data-ttu-id="1fad8-264">그런 다음 일련의 TLS:TLS 트래픽을 통해 TLS 핸드세이크 및 TLS 인증서 대화가 이됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-264">Then a series of TLS:TLS traffic which is where the TLS handshake and TLS certificate conversations take place.</span></span> <span data-ttu-id="1fad8-265">데이터는 SSL/TLS를 통해 암호화됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-265">(Remember the data is encrypted via SSL/TLS.)</span></span>

<span data-ttu-id="1fad8-266">트래픽의 모든 부분이 중요하고 연결되지만 추적의 작은 부분에는 성능 문제 해결 측면에서 특히 중요한 정보가 포함되어 있으므로 이러한 영역에 집중할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-266">All parts of the traffic are important and connected, but small portions of the trace contain information particularly important in terms of performance troubleshooting, so we'll focus on those areas.</span></span> <span data-ttu-id="1fad8-267">또한 Microsoft에서 일반적인 문제의 상위 10개 목록을 컴파일하기 위해 Office 365 성능 문제 해결을 충분히 수행했기 때문에 이러한 문제에 초점을 맞추고 다음에 문제를 해결해야 하는 도구를 사용하는 방법에 대해 중점적으로 설명할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-267">Also, since we've done enough Office 365 performance troubleshooting at Microsoft to compile a Top Ten list of common problems, we'll focus on those issues and how to use the tools we have to root them out next.</span></span>

<span data-ttu-id="1fad8-268">이러한 도구를 모두 설치하지 않은 경우 아래 매트릭스에서 여러 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-268">If you haven't installed them all ready, the matrix below makes use of several tools.</span></span> <span data-ttu-id="1fad8-269">가능한 경우.</span><span class="sxs-lookup"><span data-stu-id="1fad8-269">Where possible.</span></span> <span data-ttu-id="1fad8-270">설치 지점에 대한 링크가 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-270">Links are provided to the installation points.</span></span> <span data-ttu-id="1fad8-271">목록에는 [Netmon](https://www.microsoft.com/download/details.aspx?id=4865) 및 [Wireshark와](https://www.wireshark.org/)같은 일반적인 네트워크 추적 도구가 포함되어 있지만 익숙하고 네트워크 트래픽 필터링에 익숙한 모든 추적 도구를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-271">The list includes common network tracing tools like [Netmon](https://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](https://www.wireshark.org/), but use any tracing tool you are comfortable with, and in which you're accustomed to filtering network traffic.</span></span> <span data-ttu-id="1fad8-272">테스트할 때 다음을 기억하십시오.</span><span class="sxs-lookup"><span data-stu-id="1fad8-272">When you're testing, remember:</span></span>

- <span data-ttu-id="1fad8-273">*브라우저를 닫고*  하나의 브라우저만 실행하여 테스트합니다. 그러면 캡처하는 전체 트래픽이 줄어듭됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-273">*Close your browsers, and test with only one browser running*  - This will reduce the overall traffic you capture.</span></span> <span data-ttu-id="1fad8-274">이 경우 사용이 적은 추적을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-274">It makes for a less busy trace.</span></span>
- <span data-ttu-id="1fad8-275">*클라이언트 컴퓨터에서 DNS 확인자*  캐시 플러시 - 캡처를 시작할 때 더 깔끔한 추적을 위해 깔끔한 슬레이트를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-275">*Flush your DNS resolver cache on the client computer*  - This will give you a clean slate when you start to take your capture, for a cleaner trace.</span></span>

## <a name="common-issues"></a><span data-ttu-id="1fad8-276">일반적인 문제</span><span class="sxs-lookup"><span data-stu-id="1fad8-276">Common issues</span></span>

<span data-ttu-id="1fad8-277">몇 가지 일반적인 문제와 네트워크 추적에서 문제를 찾는 방법</span><span class="sxs-lookup"><span data-stu-id="1fad8-277">Some common issues you may face and how to find them in your Network trace.</span></span>

### <a name="tcp-windows-scaling"></a><span data-ttu-id="1fad8-278">TCP Windows 크기 조정</span><span class="sxs-lookup"><span data-stu-id="1fad8-278">TCP Windows Scaling</span></span>

<span data-ttu-id="1fad8-279">SYN - SYN/ACK에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-279">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="1fad8-280">레거시 또는 기존 하드웨어는 TCP 창 크기 조정을 활용하지 않을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-280">Legacy or aging hardware may not take advantage of TCP windows scaling.</span></span>  <span data-ttu-id="1fad8-281">적절한 TCP Windows 크기 조정 설정이 없는 경우 TCP 헤더의 기본 16비트 버퍼는 밀리초로 채워지며,</span><span class="sxs-lookup"><span data-stu-id="1fad8-281">Without proper TCP windows scaling settings, the default 16-bit buffer in TCP headers fills in milliseconds.</span></span>  <span data-ttu-id="1fad8-282">클라이언트가 원래 데이터가 수신된 것으로 확인될 때까지 트래픽을 계속 보낼 수 없습니다. 이로 인해 지연이 발생하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-282">Traffic cannot continue to send until the client receives an acknowledgment that the original data has been received, causing delays.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-283">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-283">Tools</span></span>

- <span data-ttu-id="1fad8-284">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-284">Netmon</span></span>
- <span data-ttu-id="1fad8-285">Wireshark</span><span class="sxs-lookup"><span data-stu-id="1fad8-285">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-286">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-286">What to look for</span></span>

<span data-ttu-id="1fad8-287">네트워크 추적에서 SYN - SYN/ACK 트래픽을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-287">Look for the SYN - SYN/ACK traffic in your network trace.</span></span>  <span data-ttu-id="1fad8-288">Netmon에서 처럼 필터를 사용  `tcp.flags.syn == 1` 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-288">In Netmon, use a filter like  `tcp.flags.syn == 1`.</span></span> <span data-ttu-id="1fad8-289">이 필터는 Wireshark에서 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-289">This filter is the same in Wireshark.</span></span>

![두 도구에 대한 Netmon 또는 Wireshark에서 두 도구에 대한 Syn 패킷: TCP를 필터링합니다. Flags.Syn == 1.](../media/4b9a12a1-c915-43c8-ac2f-a679d0435a29.PNG)

<span data-ttu-id="1fad8-291">모든 SYN에 대해 관련 Ack(SYN/ACK)의 대상 포트(DstPort)에 일치하는 원본 포트(SrcPort) 번호가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-291">Notice that for every SYN there is a source port (SrcPort) number that is matched in the destination port (DstPort) of the related Acknowledgment (SYN/ACK).</span></span>

<span data-ttu-id="1fad8-292">네트워크 Windows 사용하는 확장 값을 확인한 후 먼저 SYN을 확장한 다음 관련 SYN/ACK를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-292">To see the Windows Scaling value that is used by your network connection, expand first the SYN, and then the related SYN/ACK.</span></span>

![추적에서 SrcPort와 DstPort를 일치하여 시간 델타를 얻는 방법을 보여 주는 그래픽입니다.](../media/6a4ca573-0253-4fbd-93e8-92821ee1c351.png)

### <a name="tcp-idle-time-settings"></a><span data-ttu-id="1fad8-294">TCP 유휴 시간 설정</span><span class="sxs-lookup"><span data-stu-id="1fad8-294">TCP Idle Time Settings</span></span>

<span data-ttu-id="1fad8-295">지금까지 대부분의 경계 네트워크는 일시적 연결에 대해 구성됩니다. 즉, 유휴 연결이 일반적으로 종료됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-295">Historically, most perimeter networks are configured for transient connections, meaning idle connections are generally terminated.</span></span> <span data-ttu-id="1fad8-296">유휴 TCP 세션은 100초에서 300초 이상으로 바이러스 백신 및 방화벽에 의해 종료될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-296">Idle TCP sessions can be terminated by proxies and firewalls at greater than 100 to 300 seconds.</span></span> <span data-ttu-id="1fad8-297">이는 유휴 여부에 Outlook 장기 연결을 만들고 사용하기 때문에 온라인에서 문제가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-297">This is problematic for Outlook Online because it creates and uses long-term connections, whether they are idle or not.</span></span>

<span data-ttu-id="1fad8-298">프록시 또는 방화벽 장치에 의해 연결이 종료되면 클라이언트에 알리지 않습니다. Outlook Online을 사용하려고 하면 클라이언트 컴퓨터가 새 연결을 만들기 전에 반복적으로 연결을 다시 시도하게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-298">When connections are terminated by proxy or firewall devices, the client is not informed, and an attempt to use Outlook Online will mean a client computer will try, repeatedly, to revive the connection before making a new one.</span></span> <span data-ttu-id="1fad8-299">페이지 로드 시 제품, 프롬프트 또는 성능 저하가 표시될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-299">You may see hangs in the product, prompts, or slow performance on page load.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-300">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-300">Tools</span></span>

- <span data-ttu-id="1fad8-301">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-301">Netmon</span></span>
- <span data-ttu-id="1fad8-302">Wireshark</span><span class="sxs-lookup"><span data-stu-id="1fad8-302">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-303">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-303">What to look for</span></span>

<span data-ttu-id="1fad8-304">Netmon에서 시간 오프셋 필드에서 왕복을 살펴 봐야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-304">In Netmon, look at the Time Offset field for a round-trip.</span></span> <span data-ttu-id="1fad8-305">왕복은 클라이언트가 서버에 요청을 보내고 응답을 다시 받는 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-305">A round-trip is the time between client sending a request to the server and receiving a response back.</span></span> <span data-ttu-id="1fad8-306">클라이언트와 발신 지점(예: ) 사이를 검사합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-306">Check between the Client and the egress point (ex.</span></span> <span data-ttu-id="1fad8-307">Client -- Proxy) 또는 클라이언트를 \> Office 365(클라이언트 -- \> Office 365).</span><span class="sxs-lookup"><span data-stu-id="1fad8-307">Client --\> Proxy), or the Client to Office 365 (Client --\> Office 365).</span></span> <span data-ttu-id="1fad8-308">다양한 유형의 패킷에서 이를 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-308">You can see this in many types of packets.</span></span>

<span data-ttu-id="1fad8-309">예를 들어 Netmon의 필터는  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12` 또는 Wireshark에서 와 같이 표시될 수  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12` 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-309">As an example, the filter in Netmon may look like  `.Protocol.IPv4.Address == 10.102.14.112 AND .Protocol.IPv4.Address == 10.201.114.12`, or, in Wireshark,  `ip.addr == 10.102.14.112 &amp;&amp; ip.addr == 10.201.114.12`.</span></span>

> [!TIP]
> <span data-ttu-id="1fad8-310">추적의 IP 주소가 DNS 서버에 속하는지 모르는 경우</span><span class="sxs-lookup"><span data-stu-id="1fad8-310">Don't know if the IP address in your trace belongs to your DNS server?</span></span> <span data-ttu-id="1fad8-311">명령줄에서 찾아보아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-311">Try looking it up at the command line.</span></span> <span data-ttu-id="1fad8-312">실행  \> **시작을 클릭하고** \> **cmd를** 입력하거나 Windows **키를** \> 누르고 **cmd 를 입력합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-312">Click **Start** \> **Run** \> and type **cmd**, or press **Windows Key** \> and type **cmd**.</span></span> <span data-ttu-id="1fad8-313">프롬프트에 를  `nslookup <the IP address from the network trace>` 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-313">At the prompt, type  `nslookup <the IP address from the network trace>`.</span></span> <span data-ttu-id="1fad8-314">테스트하려면 사용자 컴퓨터의 IP 주소에 대해 nslookup을 사용하세요.</span><span class="sxs-lookup"><span data-stu-id="1fad8-314">To test, use nslookup against your own computer's IP address.</span></span> <span data-ttu-id="1fad8-315">> Microsoft의 IP 범위 목록을 확인하면 Office 365 및 IP 주소 범위를 [참조하세요.](./urls-and-ip-address-ranges.md)</span><span class="sxs-lookup"><span data-stu-id="1fad8-315">> To see a list of Microsoft's IP ranges, see [Office 365 URLs and IP address ranges](./urls-and-ip-address-ranges.md).</span></span>

<span data-ttu-id="1fad8-316">문제가 있는 경우( 이 경우(Outlook Online) 특히 응용 프로그램 데이터의 흐름을 표시하는 TLS:TLS 패킷(예: Netmon에서 을 통해 응용 프로그램 데이터 패킷을 찾을 수 있습니다)에 긴 시간 오프셋이 표시될 것으로 예상합니다. `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`</span><span class="sxs-lookup"><span data-stu-id="1fad8-316">If there is a problem, expect long Time Offsets to appear, in this case (Outlook Online), particularly in TLS:TLS packets that show the passage of Application Data (for example, in Netmon you can find application data packets via  `.Protocol.TLS AND Description == "TLS:TLS Rec Layer-1 SSL Application Data"`).</span></span> <span data-ttu-id="1fad8-317">세션 전체에서 시간이 매끄럽게 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-317">You should see a smooth progression in the time across the session.</span></span> <span data-ttu-id="1fad8-318">Outlook Online을 새로 고칠 때 긴 지연이 표시되면 높은 수준의 초기화가 전송될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-318">If you see long delays when refreshing your Outlook Online, this could be caused by a high degree of resets being sent.</span></span>

### <a name="latencyround-trip-time"></a><span data-ttu-id="1fad8-319">대기 시간/왕복 시간</span><span class="sxs-lookup"><span data-stu-id="1fad8-319">Latency/Round Trip Time</span></span>

<span data-ttu-id="1fad8-320">대기 시간은 여러 변수에 따라 크게 변경될 수 있는 측정값입니다( 예: 고령 장치 업그레이드, 많은 수의 사용자를 네트워크에 추가, 네트워크 연결의 다른 작업에서 사용하는 전체 대역폭 비율).</span><span class="sxs-lookup"><span data-stu-id="1fad8-320">Latency is a measure that can change a lot depending on many variables, such upgrading aging devices, adding a large number of users to a network, and the percentage of overall bandwidth consumed by other tasks on a network connection.</span></span>

<span data-ttu-id="1fad8-321">이 네트워크 계획 및 성능 조정 페이지에서 Office 365 대한 대역폭 [계산기가](network-planning-and-performance.md) Office 365 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-321">There are bandwidth calculators for Office 365 available from this [Network planning and performance tuning for Office 365](network-planning-and-performance.md) page.</span></span>

<span data-ttu-id="1fad8-322">연결 속도 또는 ISP 연결 대역폭을 측정해야 하나요?</span><span class="sxs-lookup"><span data-stu-id="1fad8-322">Need to measure the speed of your connection, or your ISP connection's bandwidth?</span></span> <span data-ttu-id="1fad8-323">이 사이트(또는 사이트와 같은 사이트): [Speedtest 공식](https://www.speedtest.net/)사이트 또는 구 속도 테스트에 대해 즐겨찾는 검색 엔진을 **쿼리합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-323">Try this site (or sites like it): [Speedtest Official Site](https://www.speedtest.net/), or query your favorite search engine for the phrase **speed test**.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-324">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-324">Tools</span></span>

- <span data-ttu-id="1fad8-325">Ping</span><span class="sxs-lookup"><span data-stu-id="1fad8-325">Ping</span></span>
- <span data-ttu-id="1fad8-326">PsPing</span><span class="sxs-lookup"><span data-stu-id="1fad8-326">PsPing</span></span>
- <span data-ttu-id="1fad8-327">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-327">Netmon</span></span>
- <span data-ttu-id="1fad8-328">Wireshark</span><span class="sxs-lookup"><span data-stu-id="1fad8-328">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-329">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-329">What to look for</span></span>

<span data-ttu-id="1fad8-330">추적의 대기 시간을 추적하기 위해 클라이언트 컴퓨터 IP 주소와 DNS 서버의 IP 주소를 기록한 경우 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-330">To track latency in a trace, you will benefit from having recorded the client computer IP address and the IP address of the DNS server in Office 365.</span></span> <span data-ttu-id="1fad8-331">이는 보다 쉬운 추적 필터링을 위해 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-331">This is for the purpose of easier trace filtering.</span></span> <span data-ttu-id="1fad8-332">프록시를 통해 연결하는 경우 작업을 더 쉽게 만들기 위해 클라이언트 컴퓨터 IP 주소, 프록시/Office 365 IP 주소가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-332">If you connect through a proxy, you will need your client computer IP address, the proxy/egress IP address, and the Office 365 DNS IP address, to make the work easier.</span></span>

<span data-ttu-id="1fad8-333">outlook.office365.com 전송된 ping 요청은  *ping이*  연속된 ICMP 패킷을 전송하기 위해 연결할 수 없는 경우에도 요청을 받는 데이터 센터의 이름을 알려 주게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-333">A ping request sent to outlook.office365.com will tell you the name of the datacenter receiving the request, even if ping  *may*  not be able to connect to send the trademark consecutive ICMP packets.</span></span> <span data-ttu-id="1fad8-334">PsPing(무료로 다운로드할 수 있는 도구)을 사용하며 포트(443)를 지정하고 IPv4(-4)를 사용하는 경우 전송된 패킷의 평균 왕복 시간을 얻게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-334">If you use PsPing (a free tool for download), and specific the port (443) and perhaps to use IPv4 (-4) you will get an average round-trip-time for packets sent.</span></span> <span data-ttu-id="1fad8-335">이렇게 하면 처럼 Office 365 URL에 대해 이 작업을 할 수 `psping -4 yourSite.sharepoint.com:443` 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-335">This will work this for other URLs in the Office 365 services, like `psping -4 yourSite.sharepoint.com:443`.</span></span> <span data-ttu-id="1fad8-336">실제로 평균적으로 더 큰 샘플을 얻을 수 있도록 여러 ping을 지정할 수 있습니다. `psping -4 -n 20 yourSite-my.sharepoint.com:443`</span><span class="sxs-lookup"><span data-stu-id="1fad8-336">In fact, you can specify a number of pings to get a larger sample for your average, try something like `psping -4 -n 20 yourSite-my.sharepoint.com:443`.</span></span>

> [!NOTE]
> <span data-ttu-id="1fad8-337">PsPing은 ICMP 패킷을 보내지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-337">PsPing doesn't send ICMP packets.</span></span> <span data-ttu-id="1fad8-338">특정 포트를 통해 TCP 패킷으로 ping을 하여 열려 있는 것으로 알고 있는 포트를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-338">It pings with TCP packets over a specific port, so you can use any one you know to be open.</span></span> <span data-ttu-id="1fad8-339">SSL/TLS를 사용하는 Office 365 PsPing에 포트 :443을 연결해 보아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-339">In Office 365, which uses SSL/TLS, try attaching port :443 to your PsPing.</span></span>

![443이 동일한 작업을 수행하지만 평균 RTT가 6.5ms인 PSPing 및 outlook.office365.com ping을 보여주는 스크린샷입니다.](../media/c64339f2-2c96-45b8-b168-c2a060430266.PNG)

<span data-ttu-id="1fad8-341">네트워크 추적을 수행하는 동안 Office 365 페이지를 로드한 경우 에 대해 Netmon 또는 Wireshark 추적을 필터링해야 `DNS` 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-341">If you loaded the slow performing Office 365 page while doing a network trace, you should filter a Netmon or Wireshark trace for `DNS`.</span></span> <span data-ttu-id="1fad8-342">이는 찾고 있는 IPS 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-342">This is one of the IPs we're looking for.</span></span>

<span data-ttu-id="1fad8-343">다음은 Netmon을 필터링하여 IP 주소를 갖기 위해 수행되는 단계입니다(DNS 대기 시간 살펴보기).</span><span class="sxs-lookup"><span data-stu-id="1fad8-343">Here are the steps to take to filter your Netmon to get the IP address (and take a look at DNS Latency).</span></span> <span data-ttu-id="1fad8-344">이 예에서는 outlook.office365.com 사용하지만 예를 들어 SharePoint Online 테넌트의 URL을 hithere.sharepoint.com 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-344">This example uses outlook.office365.com, but may also use the URL of a SharePoint Online tenant (hithere.sharepoint.com for example).</span></span>

1. <span data-ttu-id="1fad8-345">URL을 Ping하고 결과에 ping 요청이 전송된 DNS 서버의 `ping outlook.office365.com` 이름과 IP 주소를 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-345">Ping the URL `ping outlook.office365.com` and, in the results, record the name and IP address of the DNS server the ping request was sent to.</span></span>
2. <span data-ttu-id="1fad8-346">네트워크를 추적하여 페이지를 열거나 성능 문제를 줄 수 있는 작업을 수행하거나, ping 자체에서 대기 시간이 길어질 경우 해당 페이지를 추적합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-346">Network trace opening the page, or doing the action that gives you the performance problem, or, if you see a high latency on the ping, itself, network trace it.</span></span>
3. <span data-ttu-id="1fad8-347">Netmon에서 추적을 열고 DNS에 대해 필터링합니다(이 필터는 Wireshark에서도 작동하지만 대소문자에 `-- dns` 민감).</span><span class="sxs-lookup"><span data-stu-id="1fad8-347">Open the trace in Netmon and filter for DNS (this filter also works in Wireshark, but is sensitive to case `-- dns`).</span></span> <span data-ttu-id="1fad8-348">ping에서 DNS 서버의 이름을 알고 있는 경우 다음과 같이 Netmon에서 보다 빠르게 필터링할 수 있습니다. `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")` 는 Wireshark dns 및 frame에 "namnorthwest"가 포함되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-348">Since you know the name of the DNS server from your ping you may also filter more speedily in Netmon like this: `DNS AND ContainsBin(FrameData, ASCII, "namnorthwest")`, which looks like this in Wireshark dns and frame contains "namnorthwest".</span></span><br/><span data-ttu-id="1fad8-349">응답 패킷을 열고 Netmon **Frame Details** 창에서 **DNS를** 클릭하여 자세한 내용을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-349">Open the response packet and, in the Netmon **Frame Details** window, click **DNS** to expand for more information.</span></span> <span data-ttu-id="1fad8-350">DNS 정보에서 요청이 전송된 DNS 서버의 IP 주소를 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-350">In the DNS information you'll find the IP address of the DNS server the request went to in Office 365.</span></span> <span data-ttu-id="1fad8-351">다음 단계(PsPing 도구)에는 이 IP 주소가 필요합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-351">You'll need this IP address for the next step (the PsPing tool).</span></span> <span data-ttu-id="1fad8-352">필터를 제거하고 Netmon에서 DNS **응답(Frame Summary** Find Conversations DNS)을 마우스 오른쪽 단추로 클릭하여 DNS 쿼리 및 응답을 나란히 \>  \> 봐야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-352">Remove the filter, right-click on the DNS Response in Netmon (**Frame Summary** \> **Find Conversations** \> **DNS**) to see the DNS Query and Response side-by-side.</span></span>
4. <span data-ttu-id="1fad8-353">Netmon에서 DNS 요청과 응답 사이의 시간 오프셋 열도 메모합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-353">In Netmon, also note the Time Offset  column between the DNS Request and Response.</span></span> <span data-ttu-id="1fad8-354">다음 단계에서는 ICMP가 방화벽에서 자주 차단되는 경우가 쉽기 때문에 [PsPing](/sysinternals/downloads/psping) 도구를 설치 및 사용하기가 매우 편리합니다. PsPing은 대기 시간을 밀리초만 추적하기 때문에 매우 편리합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-354">In the next step, the easy-to-install and use [PsPing](/sysinternals/downloads/psping) tool comes in very handy, both because ICMP is often blocked on Firewalls, and because PsPing elegantly tracks latency in milliseconds.</span></span> <span data-ttu-id="1fad8-355">PsPing은 주소 및 포트(이 경우 열린 포트 443)에 대한 TCP 연결을 완료합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-355">PsPing completes a TCP connection to an address and port (in our case open port 443).</span></span>
5. <span data-ttu-id="1fad8-356">PsPing을 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-356">Install PsPing.</span></span>
6. <span data-ttu-id="1fad8-357">명령 프롬프트(Start \> Run type cmd 또는 Windows Key type cmd)를 열고 PsPing 명령을 실행하기 위해 PsPing을 설치한 디렉터리로 디렉터리를 \> \> 변경합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-357">Open a command prompt (Start \> Run \> type cmd, or Windows Key \> type cmd) and change directory to the directory where you installed PsPing to run the PsPing command.</span></span> <span data-ttu-id="1fad8-358">내 예제에서는 C 루트에 'Perf' 폴더를 만들었다는 사실이 표시됩니다. 빠른 액세스를 위해 동일한 작업을 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-358">In my examples you can see I made a 'Perf' folder on the root of C. You can do the same for quick access.</span></span>
7. <span data-ttu-id="1fad8-359">이전 Netmon 추적의 Office 365 DNS 서버의 IP 주소(예: 포트 번호)에 대해 PsPing을 만들 수 있도록 명령을 `psping -n 20 132.245.24.82:445` 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-359">Type the command so that you're making your PsPing against the IP address of the Office 365 DNS server from your earlier Netmon trace, including the port number, like `psping -n 20 132.245.24.82:445`.</span></span> <span data-ttu-id="1fad8-360">이렇게 하면 20개 ping 샘플링이 제공되어 PsPing이 중지될 때 대기 시간이 평균됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-360">This will give you a sampling of 20 pings and average the latency when PsPing stops.</span></span>

<span data-ttu-id="1fad8-361">프록시 서버를 Office 365 단계가 약간 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-361">If you're going to Office 365 through a proxy server, the steps are a little different.</span></span> <span data-ttu-id="1fad8-362">먼저 프록시 서버에 PsPing을 실행하여 평균 대기 시간 값을 밀리초(밀리초)로 확인한 다음 프록시 또는 직접 인터넷에 연결되어 있는 컴퓨터에서 PsPing을 실행하여 누락된 값(Office 365 및 뒤로)을 얻습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-362">You would first PsPing to your proxy server to get an average latency value in milliseconds to proxy/egress and back, and then either run PsPing on the proxy, or on a computer with a direct Internet connection to get the missing value (the one to Office 365 and back).</span></span>

<span data-ttu-id="1fad8-363">프록시에서 PsPing을 실행하기로 선택한 경우 클라이언트 컴퓨터와 프록시 서버 또는 전송 지점의 두밀리초 값, 그리고 프록시 서버를 프록시 서버로 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-363">If you choose to run PsPing from the proxy, you'll have two millisecond values: Client computer to proxy server or egress point, and proxy server to Office 365.</span></span> <span data-ttu-id="1fad8-364">완료했습니다!</span><span class="sxs-lookup"><span data-stu-id="1fad8-364">And you're done!</span></span> <span data-ttu-id="1fad8-365">아무리 까다로우면 값을 기록합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-365">Well, recording values, anyway.</span></span>

<span data-ttu-id="1fad8-366">인터넷에 직접 연결되어 있는 다른 클라이언트 컴퓨터에서 PsPing을 실행하면(즉, 프록시가 없는 경우) 클라이언트 컴퓨터와 프록시 서버 또는 전송 지점에 대한 클라이언트 컴퓨터의 2밀리초 값이 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-366">If you run PsPing on another client computer that has a direct connection to the Internet, that is, without a proxy, you will have two millisecond values: Client computer to proxy server or egress point, and client computer to Office 365.</span></span> <span data-ttu-id="1fad8-367">이 경우 클라이언트 컴퓨터의 값에서 Office 365 서버로의 프록시 서버 또는 발신 지점으로 클라이언트 컴퓨터의 값을 빼고 클라이언트 컴퓨터에서 프록시 서버 또는 발신 지점으로 RTT 번호를 뺄 수 있으며, 프록시 서버나 발신 지점에서 프록시를 Office 365.</span><span class="sxs-lookup"><span data-stu-id="1fad8-367">In this case, subtract the value of client computer to proxy server or egress point from the value of client computer to Office 365, and you will have the RTT numbers from your client computer to the proxy server or egress point, and from proxy server or egress point to Office 365.</span></span>

<span data-ttu-id="1fad8-368">그러나 직접 연결되거나 프록시를 우회하는 영향을 미치는 위치에서 클라이언트 컴퓨터를 찾을 수 있는 경우 문제가 해당 위치에서 재현되어 있는지를 보고 그 후 해당 컴퓨터를 사용하여 테스트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-368">However, if you can find a client computer in the impacted location that is directly connected, or bypasses the proxy, you may choose to see if the issue reproduces there to begin with, and test using it thereafter.</span></span>

<span data-ttu-id="1fad8-369">Netmon 추적에 나타남과 같은 대기 시간은 주어진 세션에 충분한 경우 추가될 수 있는 시간(밀리초)입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-369">Latency, as seen in a Netmon trace, those extra milliseconds can add up, if there are enough of them in any given session.</span></span>

![프레임 요약에 Netmon 기본 시간 변화량 열이 추가된 Netmon의 일반 대기 시간입니다.](../media/7ad17380-8527-4bc2-9b9b-6310cf19ba6b.PNG)

> [!NOTE]
> <span data-ttu-id="1fad8-371">IP 주소가 여기에 표시된 IP와 다를 수 있습니다. 예를 들어 ping은 157.56.0.0/16 또는 유사한 범위를 반환할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-371">Your IP address may be different than the IPs shown here, for example, your ping may return something more like 157.56.0.0/16 or a similar range.</span></span> <span data-ttu-id="1fad8-372">이 목록에 사용되는 범위 목록은 Office 365 및 IP 주소 Office 365 를 [확인하세요.](./urls-and-ip-address-ranges.md)</span><span class="sxs-lookup"><span data-stu-id="1fad8-372">For a list of ranges used by Office 365, check out [Office 365 URLs and IP address ranges](./urls-and-ip-address-ranges.md).</span></span>

<span data-ttu-id="1fad8-373">132.245와 같은 검색하려는 경우 모든 노드를 확장해야 합니다(이 경우 맨 위에 단추가 있습니다).</span><span class="sxs-lookup"><span data-stu-id="1fad8-373">Remember to expand all the nodes (there's a button at the top for this) if you want to search for, for example, 132.245.</span></span>

### <a name="proxy-authentication"></a><span data-ttu-id="1fad8-374">프록시 인증</span><span class="sxs-lookup"><span data-stu-id="1fad8-374">Proxy Authentication</span></span>

<span data-ttu-id="1fad8-375">이 설정은 프록시 서버를 사용하는 경우만 적용됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-375">This only applies to you if you're going through a proxy server.</span></span> <span data-ttu-id="1fad8-376">그렇지 않은 경우 이러한 단계를 건너뛸 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-376">If not, you can skip these steps.</span></span> <span data-ttu-id="1fad8-377">제대로 작동하면 프록시 인증이 지속적으로 밀리초만에 이행됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-377">When working properly, proxy authentication should take place in milliseconds, consistently.</span></span> <span data-ttu-id="1fad8-378">예를 들어 사용량이 많은 기간 동안에는 성능이 간헐적으로 좋지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-378">You shouldn't see intermittent bad performance during peak usage periods (for example).</span></span>

<span data-ttu-id="1fad8-379">프록시 인증이 설정되어 있는 경우 새 TCP 연결을 설정하여 정보를 Office 365 때마다 인증 프로세스를 뒤에서 통과해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-379">If Proxy authentication is on, each time you make a new TCP connection to Office 365 to get information, you need to pass through an authentication process behind the scenes.</span></span> <span data-ttu-id="1fad8-380">따라서 예를 들어 온라인에서 일정에서 메일로 Outlook 인증합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-380">So, for example, when switching from Calendar to Mail in Outlook Online, you will authenticate.</span></span> <span data-ttu-id="1fad8-381">또한 SharePoint Online에서 페이지에 여러 사이트 또는 위치의 미디어 또는 데이터가 표시될 경우 데이터를 렌더링하는 데 필요한 서로 다른 각 TCP 연결에 대해 인증합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-381">And in SharePoint Online, if a page displays media or data from multiple sites or locations, you will authenticate for each different TCP connection that is needed in order to render the data.</span></span>

<span data-ttu-id="1fad8-382">Outlook Online에서는 일정과 사서함 간에 전환할 때마다 로드 시간이 느려지거나 온라인에서 페이지 로드가 느려질 SharePoint 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-382">In Outlook Online, you may experience slow load times whenever you switch between Calendar and your mailbox, or slow page loads in SharePoint Online.</span></span> <span data-ttu-id="1fad8-383">그러나 여기에 나열되지 않은 다른 증상이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-383">However, there are other symptoms not listed here.</span></span>

<span data-ttu-id="1fad8-384">프록시 인증은 프록시 서버의 설정입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-384">Proxy authentication is a setting on your egress proxy server.</span></span> <span data-ttu-id="1fad8-385">이로 인해 성능 문제가 Office 365 네트워킹 팀에 문의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-385">If it is causing a performance issue with Office 365, you must consult your networking team.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-386">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-386">Tools</span></span>

- <span data-ttu-id="1fad8-387">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-387">Netmon</span></span>
- <span data-ttu-id="1fad8-388">Wireshark</span><span class="sxs-lookup"><span data-stu-id="1fad8-388">Wireshark</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-389">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-389">What to look for</span></span>

<span data-ttu-id="1fad8-390">일반적으로 서버에서 파일이나 정보를 요청하거나 정보를 제공하려면 새 TCP 세션을 시작해야 할 때마다 프록시 인증이 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-390">Proxy authentication takes place whenever a new TCP session must be spun up, commonly to request files or info from the server, or to supply info.</span></span> <span data-ttu-id="1fad8-391">예를 들어 HTTP GET 또는 HTTP POST 요청에 대한 프록시 인증이 표시될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-391">For example, you may see proxy authentication around HTTP GET or HTTP POST requests.</span></span> <span data-ttu-id="1fad8-392">추적에서 요청을 인증하는 프레임을 확인하려는 경우 Netmon에 'NTLMSSP Summary' 열을 추가하고 에 대해  `.property.NTLMSSPSummary` 필터링합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-392">If you want to see the frames where you are authenticating requests in your trace, add the 'NTLMSSP Summary' column to Netmon and filter for  `.property.NTLMSSPSummary`.</span></span> <span data-ttu-id="1fad8-393">인증에 얼마나 오래 들이고, 시간 델타 열을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-393">To see how long the authentication is taking, add the Time Delta column.</span></span>

<span data-ttu-id="1fad8-394">Netmon에 열을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-394">To add a column to Netmon:</span></span>

1. <span data-ttu-id="1fad8-395">설명과 같은 열을 마우스 오른쪽 단추로 **클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-395">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="1fad8-396">열 **선택 을 클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-396">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="1fad8-397">목록에서 _NTLMSSP_  요약 및 시간 델타를 찾고 추가를 **클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-397">Locate _NTLMSSP Summary_ and _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="1fad8-398">새 열을 설명 열 앞이나  뒤로 이동하여 나란히 읽을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-398">Move the new columns into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="1fad8-399">**확인** 을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-399">Click **OK**.</span></span>

<span data-ttu-id="1fad8-400">열을 추가하지 않은 경우에도 Netmon 필터가 작동됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-400">Even if you don't add the column, the Netmon filter will work.</span></span> <span data-ttu-id="1fad8-401">하지만 어떤 인증 단계가 필요한지 확인하면 문제 해결이 훨씬 더 쉬워집니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-401">But your troubleshooting will be much easier if you can see what stage of authentication you're in.</span></span>

<span data-ttu-id="1fad8-402">프록시 인증의 인스턴스를 찾는 경우 NTLM 챌린지가 있는 모든 프레임 또는 인증 메시지가 있는 프레임을 연구해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-402">When looking for instances of Proxy Authentication, be sure to study all frames where there is an NTLM Challenge, or an Authenticate Message is present.</span></span> <span data-ttu-id="1fad8-403">필요한 경우 특정 트래픽 조각을 마우스 오른쪽 단추로 클릭하고 대화 \> TCP 찾기를 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-403">If necessary, right-click the specific piece of traffic and Find Conversations \> TCP.</span></span> <span data-ttu-id="1fad8-404">이러한 대화의 시간 델타 값에 유의해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-404">Be aware of the Time Delta values in these Conversations.</span></span>

![대화를 통해 필터링된 프록시 인증을 보여주는 Netmon 추적입니다.](../media/b640f176-0a52-4bbb-972e-60fb3d6aece2.PNG)

<span data-ttu-id="1fad8-406">Wireshark에 있는 프록시 인증의 4초 지연</span><span class="sxs-lookup"><span data-stu-id="1fad8-406">A four second delay in proxy authentication as seen in Wireshark.</span></span> <span data-ttu-id="1fad8-407">표시된  이전 프레임 열의 시간 델타는 프레임 세부 정보에서 같은 이름의 필드를 마우스 오른쪽 단추로 클릭하고 열로 추가를 선택하면 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-407">The **Time delta from previous displayed frame** column was made via right-clicking the field of the same name in the frame details and selecting Add as Column.</span></span>  <br/> <span data-ttu-id="1fad8-408">![Wireshark에서 프레임 세부 정보에서 같은 이름의 필드를 마우스 오른쪽 단추로 클릭하고 열로 추가를 선택하여 '표시된 이전 프레임의 시간 델타' 열을 만들 수 있습니다.](../media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span><span class="sxs-lookup"><span data-stu-id="1fad8-408">![In Wireshark, the 'Time delta from previous displayed frame' column can be made via right-clicking the field of the same name in the frame details and selecting Add as Column.](../media/f5b7bde4-8067-4ee0-bc7f-e9062ce1ba6f.PNG)</span></span>

### <a name="dns-performance"></a><span data-ttu-id="1fad8-409">DNS 성능</span><span class="sxs-lookup"><span data-stu-id="1fad8-409">DNS Performance</span></span>

<span data-ttu-id="1fad8-410">이름 확인은 클라이언트의 국가에 최대한 가깝게 진행할 때 가장 빠르고 가장 빠르게 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-410">Name resolution works best and most quickly when it takes place as close to the client's country as possible.</span></span>

<span data-ttu-id="1fad8-411">DNS 이름 확인이 몇 초 남지 않으면 페이지 로드에 초를 추가할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-411">If DNS name resolution is taking place overseas, it can add seconds to page loads.</span></span> <span data-ttu-id="1fad8-412">이상적으로는 이름 확인이 100ms 미만으로 진행됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-412">Ideally, name resolution happens in under 100ms.</span></span> <span data-ttu-id="1fad8-413">그렇지 않은 경우 추가 조사를 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-413">If not, you should do further investigation.</span></span>

> [!TIP]
> <span data-ttu-id="1fad8-414">클라이언트 연결의 작동 방식이 어떻게 Office 365?</span><span class="sxs-lookup"><span data-stu-id="1fad8-414">Not sure how Client Connectivity works in Office 365?</span></span> <span data-ttu-id="1fad8-415">여기에서 클라이언트 연결 참조 문서를 [살펴보세요.](/previous-versions//dn741250(v=technet.10))</span><span class="sxs-lookup"><span data-stu-id="1fad8-415">Take a look at the Client Connectivity Reference document [here](/previous-versions//dn741250(v=technet.10)).</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-416">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-416">Tools</span></span>

- <span data-ttu-id="1fad8-417">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-417">Netmon</span></span>
- <span data-ttu-id="1fad8-418">Wireshark</span><span class="sxs-lookup"><span data-stu-id="1fad8-418">Wireshark</span></span>
- <span data-ttu-id="1fad8-419">PsPing</span><span class="sxs-lookup"><span data-stu-id="1fad8-419">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-420">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-420">What to look for</span></span>

<span data-ttu-id="1fad8-421">DNS 성능 분석은 일반적으로 네트워크 추적을 위한 또 다른 작업입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-421">Analyzing DNS performance is typically another job for a network trace.</span></span> <span data-ttu-id="1fad8-422">그러나 PsPing은 가능한 원인을 판결하거나 내보는 데에도 유용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-422">However, PsPing is also helpful in ruling in, or out, a possible cause.</span></span>

<span data-ttu-id="1fad8-423">DNS 트래픽은 TCP를 기반으로 하며, UDP 요청 및 응답은 특정 요청과 특정 응답을 일치하도록 도와주는 ID로 명확하게 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-423">DNS traffic is based on TCP and UDP requests and responses are clearly marked with an ID that will help to match a specific request with its specific response.</span></span> <span data-ttu-id="1fad8-424">예를 들어 SharePoint Online에서 웹 페이지의 네트워크 이름 또는 URL을 사용하는 경우 DNS 트래픽이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-424">You'll see DNS traffic when, for example, SharePoint Online uses a network name or URL on a web page.</span></span> <span data-ttu-id="1fad8-425">일반적으로 이 트래픽은 영역 전송을 제외한 대부분의 트래픽이 UDP를 통해 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-425">As a rule of thumb, most of this traffic, except when transferring Zones, runs over UDP.</span></span>

<span data-ttu-id="1fad8-426">Netmon과 Wireshark 둘 다에서 DNS 트래픽을 확인할 수 있는 가장 기본적인 필터는 `dns` 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-426">In both Netmon and Wireshark, the most basic filter that will let you look at DNS traffic is simply `dns`.</span></span> <span data-ttu-id="1fad8-427">필터를 지정할 때 소문자만 사용해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-427">Be sure to use lower case when specifying the filter.</span></span> <span data-ttu-id="1fad8-428">클라이언트 컴퓨터에서 문제를 재현하기 전에 DNS 확인자 캐시를 플러시해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-428">Remember to flush your DNS resolver cache before you begin to reproduce the issue on your client computer.</span></span> <span data-ttu-id="1fad8-429">예를 들어 홈 페이지에 대해 SharePoint Online 페이지 로드 속도가 느리면 모든 브라우저를 닫고, 새 브라우저를 열고, 추적을 시작하고, DNS 확인자 캐시를 플러시한 다음 SharePoint Online 사이트로 이동해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-429">For example, if you have a slow SharePoint Online page load for the Home page, you should close all browsers, open a new browser, start tracing, flush your DNS resolver cache, and browse to your SharePoint Online site.</span></span> <span data-ttu-id="1fad8-430">전체 페이지가 확인되면 추적을 중지하고 저장해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-430">Once the entire page resolves, you should stop and save the trace.</span></span>

![Netmon에서 DNS에 대한 기본 필터는 DNS입니다.](../media/1bebc118-ca13-45f3-803f-ab73e7af401d.png)

<span data-ttu-id="1fad8-432">여기서 시간 오프셋을 살펴보고자 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-432">You want to look at the time offset here.</span></span> <span data-ttu-id="1fad8-433">또한 다음 단계를 완료하여  할 수 있는 Netmon에 시간 델타 열을 추가하는 것이 유용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-433">And it may be helpful to add the **Time Delta** column to Netmon which you can do by completing these steps:</span></span>

1. <span data-ttu-id="1fad8-434">설명과 같은 열을 마우스 오른쪽 단추로 **클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-434">Right-click on a column such as **Description**.</span></span>
2. <span data-ttu-id="1fad8-435">열 **선택 을 클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-435">Click **Choose Columns**.</span></span>
3. <span data-ttu-id="1fad8-436">목록에서 _시간 델타를_ 찾고 추가를 **클릭합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-436">Locate _Time Delta_ in the list and click **Add**.</span></span>
4. <span data-ttu-id="1fad8-437">새 열을 설명 열 앞이나 뒤로 이동하여 나란히 읽을 수 있도록 합니다. </span><span class="sxs-lookup"><span data-stu-id="1fad8-437">Move the new column into place before or behind the _Description_ column so you can read them side-by-side.</span></span>
5. <span data-ttu-id="1fad8-438">**확인** 을 클릭합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-438">Click **OK**.</span></span>

<span data-ttu-id="1fad8-439">관심 있는 쿼리를 찾은 경우 프레임 세부 정보 패널에서 해당 쿼리를 마우스 오른쪽 단추로 클릭하고 대화 DNS 찾기 를 선택하여 쿼리를 **차단하는 것이** \> **있습니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-439">If you find a query of interest, consider isolating it by right-clicking that query in the frame details panel, choosing **Find Conversations** \> **DNS**.</span></span> <span data-ttu-id="1fad8-440">네트워크 대화 패널은 UDP 트래픽 로그에서 특정 대화로 바로 이동됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-440">Notice that the Network Conversations panel jumps right to the specific conversation in its log of UDP traffic.</span></span>

![DNS를 Outlook 온라인 부하를 필터링한 다음 DNS를 사용하여 결과의 범위를 좁히는 Netmon 추적입니다.](../media/763cf20e-7b48-4a37-9449-c9978cfe118b.PNG)

<span data-ttu-id="1fad8-442">Wireshark에서 DNS 시간 열을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-442">In Wireshark you can make a column for DNS time.</span></span> <span data-ttu-id="1fad8-443">Wireshark에서 추적(또는 추적 열기)을 사용하여 또는 보다 `dns` 유용하게  `dns.time` 필터링합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-443">Take your trace (or open a trace) in Wireshark and filter by `dns`, or, more helpfully,  `dns.time`.</span></span> <span data-ttu-id="1fad8-444">DNS 쿼리를 클릭하고 세부 정보를 표시하는 패널에서 세부 정보를  `Domain Name System (response)` 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-444">Click on any DNS query, and, in the panel showing details, expand the  `Domain Name System (response)` details.</span></span> <span data-ttu-id="1fad8-445">시간 필드가 표시 됩니다(예: `[Time: 0.001111100 seconds]` ).</span><span class="sxs-lookup"><span data-stu-id="1fad8-445">You'll see a field for time (for example, `[Time: 0.001111100 seconds]`.</span></span> <span data-ttu-id="1fad8-446">이번을 마우스 오른쪽 단추로 클릭하고 **열로 적용을 선택합니다.**</span><span class="sxs-lookup"><span data-stu-id="1fad8-446">Right-click this time and select **Apply as Column**.</span></span> <span data-ttu-id="1fad8-447">이렇게 하면 추적을 **더** 빠르게 정렬할 수 있는 시간 열이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-447">This will give you a **Time** column for quicker sorting of your trace.</span></span> <span data-ttu-id="1fad8-448">새 열을 클릭하여 내선 값을 정렬하여 확인에 가장 오래 걸려진 DNS 호출을 확인할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-448">Click on the new column to sort by descending values to see which DNS call took the longest to resolve.</span></span>

[<span data-ttu-id="1fad8-449">dns.time(소문자)에 의해 Wireshark에서 필터링되며 열에 적용된 세부 수준의 시간을 사용하고 오름차순으로 정렬되는 SharePoint Online 찾아보기입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-449">A browse of SharePoint Online filtered in Wireshark by (lowercase) dns.time, with the time from the details made into a column and sorted ascending.</span></span>](../media/1439dcc2-12ff-4ee2-9ef3-1484cf79c384.PNG)

<span data-ttu-id="1fad8-450">DNS 확인 시간을 더 조사하려는 경우 TCP에서 사용하는 DNS 포트(예: )에 대해 PsPing을  `psping <IP address of DNS server>:53` 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-450">If you would like to do more investigation of the DNS resolution time, try a PsPing against the DNS port used by TCP (for example,  `psping <IP address of DNS server>:53`) .</span></span> <span data-ttu-id="1fad8-451">성능 문제가 계속 표시하나요?</span><span class="sxs-lookup"><span data-stu-id="1fad8-451">Do you still see a performance issue?</span></span> <span data-ttu-id="1fad8-452">이 경우 해결을 위해 타격을 미치고 있는 특정 DNS 응용 프로그램의 문제보다 더 광범위한 네트워크 문제일 가능성이 까다로워질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-452">If you do, then the problem is more likely to be a broader network issue than an issue of specific the DNS application you're hitting to do resolution.</span></span> <span data-ttu-id="1fad8-453">또한 outlook.office365.com ping을 통해 Outlook Online에 대한 DNS 이름 확인이 진행되는 위치(예: outlook-namnorthwest.office365.com)를 알려 줄 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-453">It's also worth mentioning, again, that a ping to outlook.office365.com will tell you where DNS name resolution for Outlook Online is taking place (for example, outlook-namnorthwest.office365.com).</span></span>

<span data-ttu-id="1fad8-454">문제가 DNS 관련 문제로 보이는 경우 IT 부서에 문의하여 DNS 구성 및 DNS 전달자에 문의하여 이 문제를 추가로 조사해야 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-454">If the issue looks to be DNS specific, it may be necessary to contact your IT department to look at DNS configurations and DNS Forwarders to further investigate this issue.</span></span>

### <a name="proxy-scalability"></a><span data-ttu-id="1fad8-455">프록시 확장성</span><span class="sxs-lookup"><span data-stu-id="1fad8-455">Proxy Scalability</span></span>

<span data-ttu-id="1fad8-456">Outlook Online과 같은 Office 365 여러 장기 연결을 클라이언트에 부여합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-456">Services like Outlook Online in Office 365 grant clients multiple long-term connections.</span></span> <span data-ttu-id="1fad8-457">따라서 각 사용자는 더 긴 수명을 요구하는 더 많은 연결을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-457">Therefore, each user may use more connections that require a longer life.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-458">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-458">Tools</span></span>

<span data-ttu-id="1fad8-459">수학</span><span class="sxs-lookup"><span data-stu-id="1fad8-459">Math</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-460">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-460">What to look for</span></span>

<span data-ttu-id="1fad8-461">이에 대한 네트워크 추적 또는 문제 해결 도구는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-461">There is no network trace or troubleshooting tool specific to this.</span></span> <span data-ttu-id="1fad8-462">대신 제한 사항 및 기타 변수에 따라 대역폭 계산을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-462">Instead, it's based upon bandwidth calculations given limitations and other variables.</span></span>

### <a name="tcp-max-segment-size"></a><span data-ttu-id="1fad8-463">TCP 최대 세그먼트 크기</span><span class="sxs-lookup"><span data-stu-id="1fad8-463">TCP Max Segment Size</span></span>

<span data-ttu-id="1fad8-464">SYN - SYN/ACK에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-464">Found in the SYN - SYN/ACK.</span></span>  <span data-ttu-id="1fad8-465">이 작업을 수행하여 TCP 패킷이 가능한 최대 데이터 양을 수행하도록 구성되도록 구성한 성능 네트워크 추적을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-465">Do this check in any performance network trace you've taken to ensure that TCP packets are configured to carry the maximum amount of data possible.</span></span>

<span data-ttu-id="1fad8-466">목표는 데이터 전송을 위해 1460비트의 MSS를 보는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-466">The goal is to see a MSS of 1460 bytes for transmission of data.</span></span> <span data-ttu-id="1fad8-467">프록시 뒤에 있는 경우 또는 NAT를 사용하는 경우 이 테스트를 클라이언트에서 프록시/egress/NAT로, 프록시/egress/NAT에서 최상의 결과를 Office 365 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-467">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="1fad8-468">이러한 세션은 서로 다른 TCP 세션입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-468">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-469">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-469">Tools</span></span>

<span data-ttu-id="1fad8-470">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-470">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-471">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-471">What to look for</span></span>

<span data-ttu-id="1fad8-472">TCP MSS(최대 세그먼트 크기)는 네트워크 추적에서 3차원 핸드세이크의 또 다른 매개 변수입니다. 즉, SYN - SYN/ACK 패킷에서 필요한 데이터를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-472">TCP Max Segment Size (MSS) is another parameter of the three-way handshake in your network trace, that means you'll find the data you need in the SYN - SYN/ACK packet.</span></span> <span data-ttu-id="1fad8-473">MSS는 실제로 보기가 매우 간단합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-473">MSS is actually pretty simple to see.</span></span>

<span data-ttu-id="1fad8-474">성능 네트워크 추적을 열고 원하는 연결을 찾거나 성능 문제를 보여줄 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-474">Open any performance network trace you have and find the connection you're curious about, or that demonstrates the performance problem.</span></span>

> [!NOTE]
> <span data-ttu-id="1fad8-475">추적을 보고 대화와 관련된 트래픽을 찾아야 하는 경우 클라이언트의 IP 또는 프록시 서버의 IP나 발신 지점 또는 둘 다를 필터링합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-475">If you are looking at a trace and need to find the traffic relevant to your conversation, filter by the IP of the Client, or the IP of the proxy server or egress point, or both.</span></span> <span data-ttu-id="1fad8-476">직접 이동을 수행하려면 추적의 IP 주소에 대해 테스트할 URL을 Office 365 필터링해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-476">Going directly, you will need to ping the URL that you're testing for the IP address of Office 365 in the trace, and filter by it.</span></span>

<span data-ttu-id="1fad8-477">중도 추적을 보고 있나요?</span><span class="sxs-lookup"><span data-stu-id="1fad8-477">Looking at the trace second-hand?</span></span> <span data-ttu-id="1fad8-478">필터를 사용하여 방향을 정해 보세요.</span><span class="sxs-lookup"><span data-stu-id="1fad8-478">Try using filters to orient yourself.</span></span> <span data-ttu-id="1fad8-479">Netmon에서 처럼 URL에 따라 검색을 실행합니다. `Containsbin(framedata, ascii, "sphybridExample")` 프레임 번호를 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-479">In Netmon, run a search based on the URL, such as `Containsbin(framedata, ascii, "sphybridExample")`, take note of the frame number.</span></span>

<span data-ttu-id="1fad8-480">Wireshark에서 와 같은 기능을 사용  `frame contains "sphybridExample"` 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-480">In Wireshark use something like  `frame contains "sphybridExample"`.</span></span> <span data-ttu-id="1fad8-481">RWS(원격 Winsock) 트래픽을 찾은 경우(Wireshark에서 [PSH, ACK]로 표시될 수 있습니다.) RWS 연결은 앞서 설명한 대로 관련 SYN - SYN/ACK 바로 전에 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-481">If you notice that you've found Remote Winsock (RWS) traffic (it may appear as a [PSH, ACK] in Wireshark), remember that RWS connects can be seen shortly before relevant SYN - SYN/ACKs, as discussed earlier.</span></span>

<span data-ttu-id="1fad8-482">이제 프레임 번호를 기록하고, 필터를 놓고,  Netmon의 네트워크 대화 창에서 모든 트래픽을 클릭하여 가장 가까운 SYN을 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-482">At this point, you can record the frame number, drop the filter, click **All Traffic** in the Network Conversations window in Netmon to look at the nearest SYN.</span></span>

<span data-ttu-id="1fad8-483">중요하게, 추적 시 IP 주소 정보를 받지 못하면 추적에서 URL(예: 의 일부)을 검색하면 필터링할 IP 주소가 `sphybridExample-my.sharepoint.com` 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-483">Importantly, if you didn't receive any of the IP address information at the time of the trace, finding your URL in the trace (part of `sphybridExample-my.sharepoint.com`, for example), will give you IP addresses to filter by.</span></span>

<span data-ttu-id="1fad8-484">보시고자 하는 추적에서 연결을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-484">Locate the connection in the trace that you're interested in seeing.</span></span> <span data-ttu-id="1fad8-485">추적을 검색하거나 IP 주소로 필터링하거나 Netmon의 네트워크 대화 창을 사용하여 특정 대화 ID를 선택하여 이 작업을 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-485">You may do this by either scanning the trace, by filtering by IP addresses, or by selecting specific Conversation IDs using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="1fad8-486">SYN 패킷을 찾은 후 프레임 세부 정보 패널에서 TCP(Netmon) 또는 Transmission Control Protocol(Wireshark)을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-486">Once you've found the SYN packet, expand TCP (in Netmon), or Transmission Control Protocol (in Wireshark) in the Frame Details panel.</span></span> <span data-ttu-id="1fad8-487">TCP 옵션 및 MaxSegmentSize를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-487">Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="1fad8-488">관련 SYN-ACK 프레임을 찾고 TCP 옵션 및 MaxSegmentSize를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-488">Locate the related SYN-ACK frame and Expand TCP Options and MaxSegmentSize.</span></span> <span data-ttu-id="1fad8-489">두 값 중 작은 값은 최대 세그먼트 크기가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-489">The smaller of the two values will be your Maximum Segment Size.</span></span> <span data-ttu-id="1fad8-490">이 그림에서는 TCP 문제 해결이라는 Netmon의 기본 제공 Column을 활용합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-490">In this picture, I make use of the built-in Column in Netmon called TCP Troubleshoot.</span></span>

![기본 제공 열을 사용하여 Netmon에서 필터링된 네트워크 추적입니다.](../media/e073df13-71f8-497a-83b4-bb9f70bd9833.PNG)

<span data-ttu-id="1fad8-492">기본 제공 열은 프레임 세부 정보 **패널의 맨 위에** 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-492">The built-in column is at the top of the **Frame Details** panel.</span></span> <span data-ttu-id="1fad8-493">(기본 보기로 다시 전환하려면 **열을** 다시 클릭한 다음 표준 시간대를 **선택하세요.)**</span><span class="sxs-lookup"><span data-stu-id="1fad8-493">(To switch back to your normal view, click **Columns** again, and then choose **Time Zone**.)</span></span>

![TCP 문제 해결 옵션에 대한 열 드롭다운을 찾는 위치(프레임 요약 맨 위)입니다.](../media/64fd4baa-a872-4f07-b959-752d7d37fd62.PNG)

<span data-ttu-id="1fad8-495">다음은 Wireshark의 필터링된 추적입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-495">Here's a filtered trace in Wireshark.</span></span> <span data-ttu-id="1fad8-496">MSS 값()에 대한 필터가 `tcp.options.mss` 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-496">There is a filter specific to the MSS value ( `tcp.options.mss`).</span></span> <span data-ttu-id="1fad8-497">SYN, SYN/ACK, ACK 핸드셰이크의 프레임은 프레임 세부 정보(프레임 47 ACK, 46 SYN/ACK 링크, 43 SYN에 연결)에 해당하는 Wireshark의 아래쪽에 연결하여 이러한 종류의 작업을 보다 쉽게 할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-497">The frames of a SYN, SYN/ACK, ACK handshake are linked at the bottom of the Wireshark equivalent to Frame Details (so frame 47 ACK, links to 46 SYN/ACK, links to 43 SYN) to make this kind of work easier.</span></span>

![MSS(최대 세그먼트 크기)에 대해 tcp.options.mss를 통해 Wireshark에서 필터링된 추적입니다.](../media/51e278db-801b-48bc-9b68-87cf92f03fd6.PNG)

<span data-ttu-id="1fad8-499">선택적 확인(이 매트릭스의 다음 항목)을 선택해야 하는 경우 추적을 닫지 않습니다! </span><span class="sxs-lookup"><span data-stu-id="1fad8-499">If you need to check **Selective Acknowledgment** (next topic in this matrix), don't close your trace!</span></span>

### <a name="selective-acknowledgment"></a><span data-ttu-id="1fad8-500">선택적 인정</span><span class="sxs-lookup"><span data-stu-id="1fad8-500">Selective Acknowledgment</span></span>

<span data-ttu-id="1fad8-501">SYN - SYN/ACK에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-501">Found in the SYN - SYN/ACK.</span></span> <span data-ttu-id="1fad8-502">SYN 및 SYN/ACK에서 모두 허용된 것으로 보고해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-502">Must be reported as Permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="1fad8-503">SACK(선택적 확인)을 사용하면 패킷 또는 패킷이 누락될 때 데이터를 더 원활하게 다시 전송할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-503">Selective Acknowledgment (SACK) allows for smoother retransmission of data when a packet or packets go missing.</span></span> <span data-ttu-id="1fad8-504">장치에서 이 기능을 사용하지 않도록 설정하면 성능 문제가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-504">Devices can disable this feature, which can lead to performance problems.</span></span>

<span data-ttu-id="1fad8-505">프록시 뒤에 있는 경우 또는 NAT를 사용하는 경우 이 테스트를 클라이언트에서 프록시/egress/NAT로, 프록시/egress/NAT에서 최상의 결과를 Office 365 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-505">If you're behind a proxy, or you are using a NAT, remember to run this test from client to proxy/egress/NAT, and from proxy/egress/NAT to Office 365 for best results!</span></span> <span data-ttu-id="1fad8-506">이러한 세션은 서로 다른 TCP 세션입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-506">These are different TCP sessions.</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-507">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-507">Tools</span></span>

<span data-ttu-id="1fad8-508">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-508">Netmon</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-509">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-509">What to look for</span></span>

<span data-ttu-id="1fad8-510">SACK(선택적 Acknowledgment)은 SYN-SYN/ACK 핸드세이크의 또 다른 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-510">Selective Acknowledgment (SACK) is another parameter in the SYN-SYN/ACK handshake.</span></span> <span data-ttu-id="1fad8-511">SYN - SYN/ACK에 대한 추적을 여러 가지 방법으로 필터링할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-511">You can filter your trace for SYN - SYN/ACK many ways.</span></span>

<span data-ttu-id="1fad8-512">추적을 검색하거나, IP 주소로 필터링하거나, Netmon의 네트워크 대화 창을 사용하여 대화 ID를 클릭하여 확인에 관심이 있는 추적에서 연결을 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-512">Locate the connection in the trace that you're interested in seeing either by scanning the trace, filtering by IP addresses, or by clicking a Conversation ID using the Network Conversations window in Netmon.</span></span> <span data-ttu-id="1fad8-513">SYN 패킷을 찾은 후 프레임 세부 정보 섹션에서 Netmon의 TCP 또는 Wireshark의 Transmission Control Protocol을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-513">Once you've found the SYN packet, expand TCP in Netmon, or Transmission Control Protocol in Wireshark in the Frame Details section.</span></span> <span data-ttu-id="1fad8-514">TCP 옵션을 확장한 다음 SACK을 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-514">Expand TCP Options and then SACK.</span></span> <span data-ttu-id="1fad8-515">관련 SYN-ACK 프레임을 찾고 TCP 옵션 및 해당 SACK 필드를 확장합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-515">Locate the related SYN-ACK frame and Expand TCP Options and its SACK field.</span></span> <span data-ttu-id="1fad8-516">특정 SACK이 SYN과 SYN/ACK에서 모두 허용되어 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-516">Make certain SACK is permitted in both SYN and SYN/ACK.</span></span> <span data-ttu-id="1fad8-517">다음은 Netmon 및 Wireshark 둘 다에 있는 SACK 값입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-517">Here are SACK values as seen in both Netmon and Wireshark.</span></span>

![tcp.flags.syn == 1의 결과로 Netmon의 SACK(선택적 Acknowledgment)입니다.](../media/216f556f-5031-4ed2-b066-a0d9b3251fa2.PNG)

![필터 tcp.flags.syn == 1일 때의 Wireshark에 표시된 것과 같은 SACK입니다.](../media/0a6e26e5-43dc-403b-adc9-3349a55f4e4b.PNG)

### <a name="dns-geolocation"></a><span data-ttu-id="1fad8-520">DNS 지리적 위치</span><span class="sxs-lookup"><span data-stu-id="1fad8-520">DNS Geolocation</span></span>

<span data-ttu-id="1fad8-521">전 세계 Office 365 DNS 통화를 해결하면 연결 속도가 향상됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-521">Where in the world Office 365 tries to resolve your DNS call effects your connection speed.</span></span>

<span data-ttu-id="1fad8-522">Outlook Online에서는 첫 번째 DNS 검색이 완료된 후 해당 DNS의 위치를 사용하여 가장 가까운 데이터 센터에 연결합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-522">In Outlook Online, after the first DNS lookup is completed, the location of that DNS will be used to connect to your nearest datacenter.</span></span> <span data-ttu-id="1fad8-523">백본 네트워크를 사용하여 데이터가 저장된 dC(데이터 센터)에 연결하는 Outlook 온라인 CAS 서버에 연결됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-523">You will be connected to an Outlook Online CAS server, which will use the backbone network to connect to the datacenter (dC) where your data is stored.</span></span> <span data-ttu-id="1fad8-524">이 속도가 빨라집니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-524">This is faster.</span></span>

<span data-ttu-id="1fad8-525">SharePoint Online에 액세스할 때 해외로 출장하는 사용자는 활성 데이터 센터로 이동됩니다. 즉, 해당 위치가 SPO 테넌트의 홈 기반(미국에 기반을 두는 경우 미국의 dC)으로 이동됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-525">When accessing SharePoint Online, a user traveling abroad will be directed to their active datacenter -- that's the dC whose location is based on their SPO tenant's home-base (so, a dC in the USA if the user if USA-based).</span></span>

<span data-ttu-id="1fad8-526">Lync Online에는 한에 두 개 이상의 dC에 활성 노드가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-526">Lync online has active nodes in more than one dC at a time.</span></span> <span data-ttu-id="1fad8-527">Lync Online 인스턴스에 대한 요청이 전송될 때 Microsoft의 DNS는 요청이 어디에서 왔는지 결정하고 Lync online이 활성 상태인 가장 가까운 지역 dC에서 IP 주소를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-527">When requests are sent for Lync online instances, Microsoft's DNS will determine where in the world the request came from, and return IP addresses from the nearest regional dC where Lync online is active.</span></span>

> [!TIP]
> <span data-ttu-id="1fad8-528">클라이언트가 클라이언트에 연결하는 방법에 대해 더 Office 365?</span><span class="sxs-lookup"><span data-stu-id="1fad8-528">Need to know more about how clients connect to Office 365?</span></span> <span data-ttu-id="1fad8-529">클라이언트 연결 참조 [](/previous-versions//dn741250(v=technet.10)) 문서 및 유용한 그래픽을 살펴보아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-529">Take a look at the [Client Connectivity](/previous-versions//dn741250(v=technet.10)) reference article (and its helpful graphics).</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-530">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-530">Tools</span></span>

- <span data-ttu-id="1fad8-531">Ping</span><span class="sxs-lookup"><span data-stu-id="1fad8-531">Ping</span></span>
- <span data-ttu-id="1fad8-532">PsPing</span><span class="sxs-lookup"><span data-stu-id="1fad8-532">PsPing</span></span>

#### <a name="what-to-look-for"></a><span data-ttu-id="1fad8-533">찾아야 할 것</span><span class="sxs-lookup"><span data-stu-id="1fad8-533">What to look for</span></span>

<span data-ttu-id="1fad8-534">클라이언트의 DNS 서버에서 Microsoft의 DNS 서버로의 이름 확인을 요청하는 경우 대부분의 경우 Microsoft DNS는 지역별 데이터 센터(dC)의 IP 주소를 반환합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-534">Requests for name resolution from the client's DNS servers to Microsoft's DNS servers should in most cases result in Microsoft DNS returning the IP address of a regional datacenter (dC).</span></span> <span data-ttu-id="1fad8-535">이것이 어떤 의미인가요?</span><span class="sxs-lookup"><span data-stu-id="1fad8-535">What does this mean for you?</span></span> <span data-ttu-id="1fad8-536">본사가 인도 방글라데시에 있지만 사용자가 미국으로 출장하는 경우 브라우저에서 Outlook Online에 대한 요청을 할 때 Microsoft의 DNS 서버는 미국의 데이터 센터에 IP 주소를 제공해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-536">If your headquarters are in Bangalore, India, but you are traveling in the United States, when your browser makes a request for Outlook Online, Microsoft's DNS servers should hand you IP addresses to datacenters in the United States -- a regional datacenter.</span></span> <span data-ttu-id="1fad8-537">메일이 필요한 경우 Outlook 데이터 센터 간에 Microsoft의 빠른 백본 네트워크를 통해 이동됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-537">If mail is needed from Outlook, that data will travel across Microsoft's quick backbone network between the datacenters.</span></span>

<span data-ttu-id="1fad8-538">이름 확인이 사용자 위치에 최대한 가깝게 수행된 경우 DNS가 가장 빠르게 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-538">DNS works fastest when name resolution is done as close to the user location as possible.</span></span> <span data-ttu-id="1fad8-539">유럽에 있는 경우 유럽의 Microsoft DNS로 이동하여 이상적으로 유럽의 데이터 센터를 거래하고 싶을 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-539">If you're in Europe, you want to go to a Microsoft DNS in Europe, and (ideally) deal with a datacenter in Europe.</span></span> <span data-ttu-id="1fad8-540">유럽의 클라이언트에서 DNS로, 미국의 데이터 센터로의 성능은 더 느립니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-540">Performance from a client in Europe going to DNS and a datacenter in America will be slower.</span></span>

<span data-ttu-id="1fad8-541">DNS 요청이 라우팅되는 outlook.office365.com 위치를 확인하려면 Ping 도구를 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-541">Run the Ping tool against outlook.office365.com to determine where in the world your DNS request is being routed.</span></span> <span data-ttu-id="1fad8-542">유럽에 있는 경우 사용자와 같은 회신이 outlook-emeawest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="1fad8-542">If you are in Europe, you should see a reply from something like outlook-emeawest.office365.com.</span></span> <span data-ttu-id="1fad8-543">미국에서는 365와 같은 outlook-namnorthwest.office365.com.</span><span class="sxs-lookup"><span data-stu-id="1fad8-543">In the Americas, expect something like outlook-namnorthwest.office365.com.</span></span>

<span data-ttu-id="1fad8-544">클라이언트 컴퓨터에서 명령 프롬프트를 여는 경우(시작 실행 cmd 또는 키 \> \> Windows \> cmd를 통해).</span><span class="sxs-lookup"><span data-stu-id="1fad8-544">Open the command prompt on the client computer (via Start \> Run \> cmd or Windows key \> type cmd).</span></span> <span data-ttu-id="1fad8-545">ping을 outlook.office365.com Enter를 누를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-545">Type ping outlook.office365.com and press ENTER.</span></span> <span data-ttu-id="1fad8-546">IPv4를 통해 ping을 지정하려는 경우 -4를 지정해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-546">Remember, to specify -4 if you want to specify to ping via IPv4.</span></span> <span data-ttu-id="1fad8-547">ICMP 패킷에서 회신을 얻지 못할 수 있지만 요청이 라우팅된 DNS의 이름이 표시됩니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-547">You may fail to get a reply from the ICMP packets, but you should see the name of the DNS to which the request was routed.</span></span> <span data-ttu-id="1fad8-548">이 연결의 대기 시간 번호를 확인하려는 경우 ping에서 반환되는 서버의 IP 주소로 PsPing을 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-548">If you want to see the latency numbers for this connection try PsPing to the IP address of the server that is returned by ping.</span></span>

![outlook-namnorthwest의 해상도를 보여 주는 outlook.office365.com Ping입니다.](../media/06c944d5-6159-43ec-aa31-757770695e8b.PNG)

![ping에서 반환된 IP 주소로 PSPing을 outlook.office365.com 28밀리초의 대기 시간을 보여 주며,](../media/f2b25a75-1a87-4479-b8a7-fa4375683507.PNG)

### <a name="office-365-application-troubleshooting"></a><span data-ttu-id="1fad8-551">Office 365 응용 프로그램 문제 해결</span><span class="sxs-lookup"><span data-stu-id="1fad8-551">Office 365 Application Troubleshooting</span></span>

#### <a name="tools"></a><span data-ttu-id="1fad8-552">도구</span><span class="sxs-lookup"><span data-stu-id="1fad8-552">Tools</span></span>

- <span data-ttu-id="1fad8-553">Netmon</span><span class="sxs-lookup"><span data-stu-id="1fad8-553">Netmon</span></span>
- <span data-ttu-id="1fad8-554">HTTPWatch</span><span class="sxs-lookup"><span data-stu-id="1fad8-554">HTTPWatch</span></span>
- <span data-ttu-id="1fad8-555">브라우저의 F12 콘솔</span><span class="sxs-lookup"><span data-stu-id="1fad8-555">F12 Console in the browser</span></span>

<span data-ttu-id="1fad8-556">이 네트워크 관련 문서에서는 응용 프로그램별 문제 해결에 사용되는 도구에 대해 다루지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1fad8-556">We don't cover tools used in application-specific troubleshooting in this network-specific article.</span></span> <span data-ttu-id="1fad8-557">그러나 이 페이지에서 사용할 수 *있는* 리소스를 찾을 [수 있습니다.](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848)</span><span class="sxs-lookup"><span data-stu-id="1fad8-557">But you'll find resources you  *can*  use [on this page](https://support.office.com/article/Network-planning-and-performance-tuning-for-Office-365-e5f1228c-da3c-4654-bf16-d163daee8848).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1fad8-558">관련 주제</span><span class="sxs-lookup"><span data-stu-id="1fad8-558">Related Topics</span></span>

[<span data-ttu-id="1fad8-559">Office 365 끝점 관리</span><span class="sxs-lookup"><span data-stu-id="1fad8-559">Managing Office 365 endpoints</span></span>](https://support.office.com/article/99cab9d4-ef59-4207-9f2b-3728eb46bf9a)

[<span data-ttu-id="1fad8-560">Office 365 끝점 FAQ</span><span class="sxs-lookup"><span data-stu-id="1fad8-560">Office 365 endpoints FAQ</span></span>](https://support.office.com/article/d4088321-1c89-4b96-9c99-54c75cae2e6d)